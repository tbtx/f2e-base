<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>lang</title>
	<link rel="stylesheet" href="style.css">
</head>
<body>
<h2 id="api">API</h2>

<ul>
<li><a href="#mix">mix(des, source, blacklist, over)</a>
    <p>类似于$.extend,浅拷贝</p>
</li>
<li>isNotEmptyString(val)
    <p>是否是非空字符串</p>
</li>
<li>isArray(val)
    <p>判断参数是否是数组</p>
</li>
<li>inArray(arr, item)
    <p>判断一个元素释放在数组内</p>
</li>
<li>indexOf(arr, item)
    <p>
        数组的indexOf, 字符串也可用
    </p>
</li>
<li>
    <a href="#keys">keys</a>
    <p>返回对象的键的数组</p>
</li>

<li>
    <a href="#startsWith">startsWith(str, prefix)</a>
    <p>判断字符串是否以某个前缀开头</p>
</li>
<li>
    <a href="#endsWith">endsWith(str, suffix)</a>
    <p>判断字符串是否以某个后缀结尾</p>
</li>

<li>
    <a href="#choice">choice(m, n)</a>
    <p>返回m-n之间的随机数，并取整, 也可以直接传入一个数组，随机一个数组元素返回</p>
</li>
<li>
    <a href="#shuffle">shuffle(arr)</a>
    <p>数组随机重排序</p>
</li>

<li><a href="#class">Class</a>
    <p>类和继承的实现</p>
</li>
<li>Now
    <p>返回js时间戳</p>
</li>
<li>
    <a href="#throttle">throttle(fn, ms, context)</a>
    <p>函数节流</p>
</li>
<li>
    <a href="#curry">curry(fn)</a>
    <p>函数柯里化</p>
</li>
<li>substitute(template, context)
    <p>简单模板替换，类似TPLswap</p>
</li>
<li>unparam(str, sep, eq)
    <p>query字符串转为对象, =号和?号都可以自定义</p>
</li>
<li>getQueryParam(name, [url])
    <p>返回查询字符串中的name对应值</p>
</li>
<li>
    <a href="#escapeHtml">escapeHtml(str)</a>
    <p>将字符串经过 html 转义得到适合在页面中显示的内容, 例如替换 &lt; 为 &amp;lt;</p>
</li>

<li>
    unEscapeHtml(str)
    <p>将转义过的html还原</p>
</li>
</ul>

<h3 id="mix">mix(des, source, [blacklist, [over]])</h3>

<p>将source的属性复制到des上</p>
<p>blacklist array, 黑名单中的属性不被复制</p>
<p>over 是否重写desc的同名属性，默认重写</p>

<h3 id="keys">keys(o)</h3>

<pre><code>tbtx.keys({name: 123, age: 123}) => ['name', 'age']
</code></pre>

<h3 id="startsWith">startsWith</h3>

<pre><code>tbtx.startsWith("jquery.js", 'jquery') => true
</code></pre>

<h3 id="class">Class</h3>

<pre><code>创建一个类,比如Slide类
var Slide = new Class;

向类上添加静态属性
Slide.extend({
    name: 'slide'
});
Slide.name =&gt; 'slide'

向实例上添加属性,其中init方法会在实例化的时候自动调用
也可以使用Slide.fn或者prototype访问到类的原型对象
Slide.include({
    init: funciton(page) {
        this.page = page;
    },

    sayPage: function() {
        return this.page;
    }
});
var s = new Slide(4);
s.sayPage() =&gt; 4;

继承
var SpecialSlide = new Class(Slide);
var s2 = new SpecialSlide(5);
s2.page = 6;
s2.sayPage() =&gt; 6
</code></pre>

<h3 id="now">Now</h3>

<pre><code>返回当前时间戳
</code></pre>

<h3 id="throttle">throttle(fn, [ms, [context]]) </h3>

<p>当在scroll事件或者resize事件里执行大量操作时，频繁触发会导致浏览器很卡，函数节流将函数限制在多少ms内只会触发一次，使用:$(window).on('resize', throttle(function, 300));</p>

<p>对于精确的scroll就不要使用throttle了</p>

<p>ms默认250毫秒</p>

<p>context指定函数的上下文</p>

<h3 id="curry">curry</h3>

<p>函数柯里化
调用同样的函数并且传入的参数大部分都相同的时候，就是考虑柯里化的理想场景</p>

<pre><code>var add = function(num1, num2) {
    return num2 + num1;
};
var curriedAdd = S.curry(add, 5);
curriedAdd(3) =&gt; 8  5+3
curriedAdd(4) =&gt; 9  5+4
</code></pre>

<h3 id="substitute">substitute</h3>

<p>模板替换</p>

<pre><code>
    substitute("my name is {{ name }}", {name: 'alex'}) =&gt; my name is alex
</code></pre>

<h3 id="unparamparamjqueryparam">unparam(param请使用jQuery.param)</h3>

<p>unparam(str, sep, eq): query字符串转为对象, =号和?号都可以自定义</p>

<pre><code>a=123&amp;b=456 =&gt; {a: 123, b: 456}

sep可以替换&amp;, eq可以替换=，一般不需要
</code></pre>

<h3 id="getqueryparam">getQueryParam</h3>

<p>getQueryParam(name, [url]) 获取查询字符串中的变量，不指定url则使用当前href，不指定name则返回所有参数的对象（内部调用的是unparm）</p>

<h3 id="escapeHtml">escapeHtml(text)</h3>

<p>此函数会对以下符号进行 escape： " &lt; &gt; &amp; 和空格 </p>

</body>
</html>