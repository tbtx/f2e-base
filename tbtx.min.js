!function(t,e,n,r){function i(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e}function o(t){return t.match(Ve)[0]}function a(t){for(t=t.replace(Ye,"/"),t=t.replace(Ze,"$1/");t.match(Je);)t=t.replace(Je,"/");return t}function u(t){var e=t.length-1,n=t.charAt(e);return"#"===n?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===n?t:t+".js"}function s(t){var e=Ke.alias;return e&&Q(e[t])?e[t]:t}function c(t){var e,n=Ke.paths;return n&&(e=t.match(tn))&&Q(n[e[1]])&&(t=n[e[1]]+e[2]),t}function f(t){var e=Ke.vars;return e&&t.indexOf("{")>-1&&(t=t.replace(en,function(t,n){return Q(e[n])?e[n]:t})),t}function l(t){var e=Ke.map,n=t;if(e)for(var r=0,i=e.length;i>r;r++){var o=e[r];if(n=B(o)?o(t)||t:t.replace(o[0],o[1]),n!==t)break}return n}function p(t,e){var n,r=t.charAt(0);if(nn.test(t))n=t;else if("."===r)n=(e?o(e):Ke.cwd)+t;else if("/"===r){var i=Ke.cwd.match(rn);n=i?i[0]+t.substring(1):t}else n=Ke.base+t;return 0===n.indexOf("//")&&(n=T.protocol+n),a(n)}function d(t,e){if(!t)return"";t=s(t),t=c(t),t=f(t),t=u(t);var n=p(t,e);return n=l(n)}function h(t,n,r){n=n||_;var i=sn.test(t),o=e.createElement(i?"link":"script");if(r){var a=B(r)?r(t):r;a&&(o.charset=a)}g(o,n,i),i?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t),ze=o,un?j.insertBefore(o,un):j.appendChild(o),ze=null}function g(t,e,n){var r="onload"in t;if(n&&(cn||!r))return setTimeout(function(){v(t,e)},1),void 0;var i=function(){t.onload=t.onerror=t.onreadystatechange=null,n||I("debug")||j.removeChild(t),t=null,e()};r?t.onload=t.onerror=i:t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&i()}}function v(t,e){var n,r=t.sheet;if(cn)r&&(n=!0);else if(r)try{r.cssRules&&(n=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(n=!0)}setTimeout(function(){n?e():v(t,e)},20)}function m(){if(e.currentScript)return e.currentScript;if(ze)return ze;if(He&&"interactive"===He.readyState)return He;for(var t,n=j.getElementsByTagName("script"),r=n.length-1;r>=0;r--)if(t=n[r],"interactive"===t.readyState)return He=t}function y(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function b(t){return jn.test(t)||Sn.test(t)||Y(t)}function E(t){var e,n;return Y(t)?t:jn.test(t)?new Date(+t):(e=Sn.exec(t),n=_n.exec(t),e&&n?new Date(n[0].replace(/-/g,"/")+" "+e[7]):new Date)}function w(t,e){return b(t)&&(e=[t,t=e][0]),t=t||"Y-m-d h:i:s",e=x(e),t.replace(On,function(t){return e[t]})}function x(t){t=E(t);var e={Y:t.getFullYear(),M:t.getMonth()+1,D:t.getDate(),H:t.getHours(),I:t.getMinutes(),S:t.getSeconds()},n={};return H(e,function(t,e){n[e]=t+"",n[e.toLowerCase()]=D(t).slice(-2)}),n}function D(t){return t+="",1===t.length?"0"+t:t}var T=t.location,A=navigator.userAgent,O=e.documentElement,j=e.head||e.getElementsByTagName("head")[0],S=t.console&&console.log,_=function(){},C=function(t){throw V(t)?t:new Error(t)},q={debug:-1!==T.search.indexOf("debug")?!0:!1},I=function(t,e){var i=n;return Q(t)?e===r?i=q[t]:q[t]=e:H(t,function(t,e){q[e]=t}),i};n=t[n]={version:"2.5",log:S?function(t,e){return n.config("debug")&&(e&&(t=e+": "+t),console.log(t)),n}:_,error:C,global:t,noop:_,Config:q,config:I};var N=Array.prototype,k=String.prototype,F=Function.prototype,M={},R=M.toString,U=M.hasOwnProperty,$=N.slice,W=function(t,e){return U.call(t,e)},L=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,G=/[^, ]+/g,P=/<[^>]+>/gim,z=/\\?\{\{\s*([^{}\s]+)\s*\}\}/gm,H=function(t,e,n){var r=0,i=t.length;if(n&&(e=e.bind(n)),i===+i)for(;i>r&&e(t[r],r,t)!==!1;r++);else for(r in t)if(W(t,r)&&e(t[r],r,t)===!1)break};Object.keys||(Object.keys=function(t){var e,n=[];for(e in t)W(t,e)&&n.push(e);return n}),F.bind||(F.bind=function(e){var n=$.call(arguments,1),r=this,i=function(){},o=function(){return r.apply(this instanceof i?this:e||t,n.concat($.call(arguments)))};return i.prototype=r.prototype,o.prototype=new i,o}),Date.now||(Date.now=function(){return+new Date}),k.trim||(k.trim=function(){return this.replace(L,"")}),k.startsWith||(k.startsWith=function(t){return 0===this.lastIndexOf(t,0)}),k.endsWith||(k.endsWith=function(t){var e=this.length-t.length;return e>=0&&this.indexOf(t,e)===e}),N.forEach||(N.forEach=function(t,e){for(var n=0,r=this.length;r>n;n++)t.call(e,this[n],n,this)}),N.map||(N.map=function(t,e){for(var n=[],r=0,i=this.length;i>r;r++)n.push(t.call(e,this[r],r,this));return n}),N.filter||(N.filter=function(t,e){for(var n,r=[],i=0,o=this.length;o>i;i++)n=this[i],t.call(e,n,i,this)&&r.push(n);return r}),N.some||(N.some=function(t,e){for(var n=0,r=this.length;r>n;n++)if(t.call(e,this[n],n,this))return!0;return!1}),N.every||(N.every=function(t,e){for(var n=0,r=this.length;r>n;n++)if(!t.call(e,this[n],n,this))return!1;return!0}),N.indexOf||(N.indexOf=function(t,e){var n,r=-1,i=this.length;for(n=1*e||0,n=n>=0?n:Math.max(0,i+n);i>n;n++)if(this[n]===t)return n;return r}),N.lastIndexOf||(N.lastIndexOf=function(t,e){var n=-1,r=this.length,i=r-1;for(e=1*e||r-1,i=Math.min(i,e);i>-1;i--)if(this[i]===t)return i;return n}),N.reduce||(N.reduce=function(t,e){var n=e,i=0,o=this.length;for(e===r&&(n=this[0],i=1);o>i;i++)n=t(n,this[i],i,this);return n}),N.reduceRight||(N.reduceRight=function(t,e){var n=this.length,i=n-1,o=e;for(e===r&&(o=this[n-1],i--);i>-1;i--)o=t(o,this[i],i,this);return o}),"Boolean Number String Function Array Date RegExp Object Error".replace(G,function(t,e){M["[object "+t+"]"]=e=t.toLowerCase(),n["is"+t]=function(t){return ne(t)===e}});var X=Array.isArray=n.isArray=Array.isArray||n.isArray,B=n.isFunction,K=n.isObject,Q=n.isString,V=n.isError,Y=n.isDate,J=function(t){return Q(t)&&""!==t},Z=function(t,e){var n={};return e=e||function(t){return t},function(){var r=arguments,i=e.apply(this,r),o=n[i];return W(n,i)&&null!=o?n[i]:n[i]=t.apply(this,r)}},te=function(t){return Z(t,function(){return 1})},ee=function(t,e,n){return Q(t)&&(X(e)||ie(e))?t.replace(z,function(t,r){return"\\"===t.charAt(0)?t.slice(1):null==e[r]?n?t:"":e[r]}):t},ne=function(t){if(null==t)return t+"";var e=typeof t;return"object"===e||"function"===e?M[R.call(t)]||"object":e},re=function(t){return null!=t&&t==t.window},ie=function(t){if(!K(t)||t.nodeType||re(t))return!1;var e,n;try{if((n=t.constructor)&&!W(t,"constructor")&&!W(n.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(e in t);return e===r||W(t,e)},oe=function(t){if(null==t)return[];if(X(t))return t;var e=[],n=0,r=t.length,i=ne(r),o=ne(t);if("number"!==i||"string"==typeof t.nodeName||re(t)||"string"===o||"function"===o&&!("item"in t&&"number"===i))return[t];for(;r>n;n++)e[n]=t[n];return e},ae=function(){var t,e,i,o,a,u,s=arguments[0]||{},c=1,f=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[c]||{},c++),"object"==typeof s||B(s)||(s={}),c===f&&(s=n,c--);f>c;c++)if(null!=(a=arguments[c]))for(o in a)t=s[o],i=a[o],s!==i&&(l&&i&&(ie(i)||(e=X(i)))?(e?(e=!1,u=t&&X(t)?t:[]):u=t&&ie(t)?t:{},s[o]=ae(l,u,i)):i!==r&&(s[o]=i));return s},ue=function(t,e){var n,r,i=t===e;if(i||null==t||null==e)return i;if(n=ne(t),r=ne(e),n!==r)return!1;switch(n){case"array":case"object":return se(t,e);case"string":return t==String(e);case"number":return i;case"date":case"boolean":return+t==+e}return i},se=function(t,e){var n;for(n in e)if(!W(t,n)&&W(e,n))return!1;for(n in t)if(!W(e,n)&&W(t,n))return!1;for(n in e)if(!ue(t[n],e[n]))return!1;return X(t)&&X(e)&&t.length!==e.length?!1:!0},ce=function(t){t=t||0;var e=0;return function(){return t+e++}},fe=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},le=function(t){return t.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/\-/g,"_").toLowerCase()},pe=function(t){return le(t).replace(/_/g,"-")},de={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},he={},ge=te(function(){var t="";return H(de,function(e){t+=e+"|"}),t=t.slice(0,-1),new RegExp(t,"g")}),ve=te(function(){var t="";return H(he,function(e){t+=e+"|"}),t+="&#(\\d{1,5});",new RegExp(t,"g")}),me=function(t){return(t+"").replace(ge(),function(t){return he[t]})},ye=function(t){return(t+"").replace(ve(),function(t){return de[t]})};H(de,function(t,e){he[t]=e}),ae({each:H,mix:ae,extend:ae,isWindow:re,isPlainObject:ie,isEqual:ue,type:ne,makeArray:oe,memoize:Z,singleton:te,uniqueCid:ce(),isNotEmptyString:J,ucfirst:fe,dasherize:pe,random:function(t,e){var n,r;return X(t)&&(n=t,t=0,e=n.length-1),null==e&&(e=t,t=0),r=t+Math.floor(Math.random()*(e-t+1)),n?n[r]:r},later:function(t,e,r,i,o){e=e||0;var a,u,s=t,c=oe(o);return Q(t)&&(s=i[t]),s||n.error("later: method undefined"),a=function(){s.apply(i,c)},u=r?setInterval(a,e):setTimeout(a,e),{id:u,interval:r,cancel:function(){this.interval?clearInterval(u):clearTimeout(u)}}},throttle:function(t,e,n){if(n=n||this,e=e||150,-1===e)return t.bind(n);var r=Date.now();return function(){var i=Date.now();i-r>e&&(r=i,t.apply(n,arguments))}},debounce:function(t,e,r){if(r=r||this,e=e||150,-1===e)return t.bind(r);var i=null,o=function(){o.stop(),i=n.later(t,e,0,r,arguments)};return o.stop=function(){i&&(i.cancel(),i=0)},o},substitute:ee,truncate:function(t,e,n){return t+="",n=n||"...",t.length>e?t.slice(0,e-n.length)+n:t},stripTags:function(t){return(t+"").replace(P,"")},escapeHtml:me,unEscapeHtml:ye});var be=encodeURIComponent,Ee=function(t){return decodeURIComponent(t.replace(/\+/g," "))},we=function(t,e,n){e=e||"&",n=n||"=";var o=[];return H(t,function(t,a){a=be(a),i(t)&&(o.push(a),t!==r&&o.push(n,be(t)),o.push(e))}),o.pop(),o.join("")},xe=function(t,e,n){t=(t+"").trim(),e=e||"&",n=n||"=";var i,o,a,u={},s=t.split(e),c=0,f=s.length;if(!t)return u;for(;f>c;++c){if(i=s[c].indexOf(n),-1==i)o=Ee(s[c]),a=r;else{o=Ee(s[c].substring(0,i)),a=s[c].substring(i+1);try{a=Ee(a)}catch(l){C(l+a)}}u[o]=a}return u},De=function(t){t=t||T.href;var n,r,i,o=e.createElement("a");return o.href=t,n=o.protocol,n=n.slice(0,n.length-1),r=o.pathname,"/"!=r.charAt(0)&&(r="/"+r),i=o.port,80==i&&(i=""),{scheme:n,domain:o.hostname,port:i,path:r,query:o.search.slice(1),fragment:o.hash.slice(1)}},Te=function(t){this._query=t,this._map=xe(t)},Ae=function(t){var e=this,n=De(t);return H(n,function(t,n){if("query"===n)e.query=new Te(t);else{try{t=Ee(t)}catch(r){C(r)}e[n]=t}}),e},Oe=/^(http|file|\/|\.)/,je=function(t){return t+="",Oe.test(t)};Te.prototype={get:function(t){var e=this._map;return t?e[t]:e},set:function(t,e){var n=this,r=n._map;return Q(t)?r[t]=e:(t instanceof Te&&(t=t.get()),H(t,function(t,e){r[e]=t})),n},remove:function(t){var e=this;return t?(t=oe(t),H(t,function(t){delete e._map[t]})):e._map={},e},toString:function(){return we(this._map)}},Te.prototype.add=Te.prototype.set,Ae.prototype={getFragment:function(){return this.fragment},toString:function(){{var t=[],e=this,n=e.scheme,r=e.domain,i=e.path,o=parseInt(e.port,10),a=e.fragment,u=e.query.toString();e.credentials}return n&&(t.push(n),t.push(":")),r&&(t.push("//"),t.push(be(r)),o&&(t.push(":"),t.push(o))),i&&t.push(i),u&&(t.push("?"),t.push(u)),a&&(t.push("#"),t.push(a)),t.join("")}},"add get remove set".replace(G,function(t){n[t+"QueryParam"]=function(){var e,n=oe(arguments),r=n.length;je(n[0])?e=n.shift():je(n[r-1])&&(e=n.pop());var i=new Ae(e),o=i.query,a=o[t].apply(o,n);return a===o?i.toString():a||""}}),ae({urlEncode:be,urlDecode:Ee,param:we,unparam:xe,isUri:je,parseUri:De,getFragment:function(t){return new Ae(t).getFragment()}});{var Se=n.events={};n.on=function(t,e){var r=Se[t]||(Se[t]=[]);return r.push(e),n}}n.one=function(t,e){var r=function(){n.off(t,r),e.apply(n,arguments)};return n.on(t,r)},n.off=function(t,e){if(!t&&!e)return Se=n.events={},n;var r=Se[t];if(r)if(e)for(var i=r.length-1;i>=0;i--)r[i]===e&&r.splice(i,1);else delete Se[t];return n};var _e=n.trigger=function(t){var e=Se[t],r=$.call(arguments,1);if(e){e=e.slice();for(var i=0,o=e.length;o>i;i++)e[i].apply(n,r)}return n},Ce=function(t){return e.createElement(t)},qe=" ",Ie=Ce("tbtx"),Ne=Ie.style,ke=Ce("input"),Fe="Webkit Moz O ms",Me=Fe.split(qe),Re=function(t){return $e(t,"pfx")},Ue=function(t,e){var n,i;for(i in t)if(n=t[i],Ne[n]!==r)return"pfx"==e?n:!0;return!1},$e=function(t,e){var n=fe(t),r=(t+qe+Me.join(n+qe)+n).split(qe);return Ue(r,e)},We=Re("transform"),Le=Re("transition"),Ge={touch:"ontouchstart"in O,pad:!!A.match(/iPad/i),transition:Le,transform:We,placeholder:"placeholder"in ke,translate3d:$e("perspective")};H({mobile:function(){return!!A.match(/AppleWebKit.*Mobile.*/)||this.touch},phone:function(){return this.mobile&&!this.pad},canvas:function(){var t=Ce("canvas");return!(!t.getContext||!t.getContext("2d"))}},function(t,e){Ge[e]=t.call(Ge)});var Pe={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Ge.transitionEnd=Le?Pe[Le]:"",ae({support:Ge,testPropsAll:$e,prefixed:Re});var ze,He,Xe,Be=n.Loader={},Ke=Be.data={},Qe=ce(),Ve=/[^?#]*\//,Ye=/\/\.\//g,Je=/\/[^/]+\/\.\.\//,Ze=/([^:/])\/+\//g,tn=/^([^/:]+)(\/.+)$/,en=/{([^{]+)}/g,nn=/^\/\/.|:\//,rn=/^.*?\/\/.*?\//,on=o(T.href),an="http://static.tianxia.taobao.com/tbtx/base/2.5/js/",un=j.getElementsByTagName("base")[0],sn=/\.css(?:\?|$)/i,cn=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536,fn=Be.cache={},ln={},pn={},dn={},hn=y.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};y.prototype={resolve:function(){var t=this,e=t.uri,n=t.dependencies;return n.map(function(t){return y.resolve(t,e)})},load:function(){var t=this;if(!(t.status>=hn.LOADING)){t.status=hn.LOADING;var e=t.resolve();_e("load",e);var n,r,i=t._remain=e.length,o=t.uri;for(r=0;i>r;r++)n=y.get(e[r]),n.status<hn.EXECUTED?n._waitings[o]=(n._waitings[o]||0)+1:t._remain--;if(0===t._remain)return t.onload(),void 0;var a={};for(r=0;i>r;r++)n=fn[e[r]],n.status<hn.FETCHING?n.fetch(a):n.status===hn.SAVED&&n.load();for(var u in a)a.hasOwnProperty(u)&&a[u]()}},onload:function(){var t=this;t.status=hn.LOADED,t.callback&&t.callback(),t.exec()},exec:function(){var t=this;if(t.status>=hn.EXECUTING)return t.exports;t.status=hn.EXECUTING;for(var e=t.uri,n=t.resolve(),i=[],o=0,a=n.length;a>o;o++)i[o]=y.get(n[o]).exports;var u=t.factory,s=B(u)?u.apply(null,i):u;s===r&&(s=t.exports),delete t.factory,t.exports=s,t.status=hn.EXECUTED;var c,f=t._waitings;for(e in f)f.hasOwnProperty(e)&&(c=fn[e],c._remain-=f[e],0===c._remain&&c.onload());return delete t._waitings,delete t._remain,s},fetch:function(t){function e(){h(a,n,Ke.charset)}function n(){delete ln[a],pn[a]=!0,Xe&&(y.save(i,Xe),Xe=null);var t,e=dn[a];for(delete dn[a];t=e.shift();)t.load()}var r=this,i=r.uri;r.status=hn.FETCHING;var o={uri:i};_e("fetch",o);var a=o.requestUri||i;return!a||pn[a]?(r.load(),void 0):ln[a]?(dn[a].push(r),void 0):(ln[a]=!0,dn[a]=[r],t?t[a]=e:e(),void 0)}},y.save=function(t,e){var n=y.get(t);n.status<hn.SAVED&&(n.id=e.id||t,n.dependencies=e.deps||[],n.factory=e.factory,n.status=hn.SAVED)},y.get=function(t,e){return fn[t]||(fn[t]=new y(t,e))},y.require=function(e,n,r){var i=y.get(r,oe(e));n&&(i.callback=function(){var e=i.resolve(),r=e.map(function(t){return fn[t].exports});n.apply(t,r),delete i.callback}),i.load()},y.resolve=function(t,e){return d(t,e)},y.define=function(t,e,n){var i=arguments.length;1===i?(n=t,t=r):2===i&&(n=e,X(t)?(e=t,t=r):e=r),X(e)||(e=[]);var o={id:t,uri:y.resolve(t),deps:e,factory:n};if(!o.uri){var a=m();a&&(o.uri=a.src)}o.uri?y.save(o.uri,o):Xe=o},y.define.amd={},Ke.fetchedList=pn,Ke.base=an,Ke.dir=an,Ke.cwd=on,Ke.charset="utf-8",Be.config=function(t){for(var e in t){var n=t[e],r=Ke[e];if(r&&K(r))for(var i in n)r[i]=n[i];else X(r)?n=r.concat(n):"base"===e&&("/"!==n.slice(-1)&&(n+="/"),n=p(n)),Ke[e]=n}},Be.resolve=d;var gn=t.define=y.define,vn=t.require=function(t,e){return y.require(t,e,Ke.cwd+"_require_"+Qe()),n};ae({Module:y,define:gn,require:vn,realpath:a,loadScript:h,loadCss:h});var mn=a(an+"../../../"),yn={},bn={},En={component:{switchable:"1.0.3",validator:"0.9.7",popup:"1.0.0"},plugin:{lazyload:"1.8.4",easing:"1.3"},gallery:{jquery:Ge.mobile?"2.1.1":"1.11.1",handlebars:"1.3.0",json:"2"},arale:{base:"1.1.1",widget:"1.1.1",position:"1.0.1"},dist:{msg:"1.0.0"}},wn="{{ dir }}/{{ name }}/{{ version }}/{{ name }}";if(H(En,function(t,e){yn[e]=a(an+"../../")+e,H(t,function(t,n){bn[n]=ee(wn,{dir:e,name:n,version:t})})}),bn.$=bn.jquery,Be.config({base:mn,alias:bn,paths:yn}),!I("debug")){var xn=Math.floor(Date.now()/36e5);Be.config({map:[function(t){return-1===t.indexOf("t=")?t.replace(/^(.*\.(?:css|js))(.*)$/i,"$1?t="+xn):void 0}]})}gn("tbtx",n),typeof JSON!=r+""&&gn("json",JSON),typeof jQuery!=r+""&&gn("jquery",function(){return jQuery});var Dn={broadcast:"msg",pin:"position",center:"position"};H(Dn,function(t,e){n[e]=function(){var r=arguments;vn(t,function(t){var i=t[e];B(i)&&(i.apply(n,r),n[e]=i)})}});var Tn=864e5,An=n.cookie={get:function(t){var n,r;return J(t)&&(r=String(e.cookie).match(new RegExp("(?:^| )"+t+"(?:(?:=([^;]*))|;|$)")))&&(n=r[1]?Ee(r[1]):""),n},set:function(t,n,r,i,o,a){var u=String(be(n)),s=i;return"number"==typeof s&&(s=new Date,s.setTime(s.getTime()+i*Tn)),s instanceof Date&&(u+="; expires="+s.toUTCString()),J(r)&&(u+="; domain="+r),J(o)&&(u+="; path="+o),a&&(u+="; secure"),e.cookie=t+"="+u,this},remove:function(t,e,n,r){return this.set(t,"",e,-1,n,r),this}},On=/y|m|d|h|i|s/gi,jn=/^\d{13}$/,Sn=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_n=/\d{4}-\d{2}-\d{2}/;ae({parseDate:E,normalizeDate:x,formatDate:w});var Cn=function(){return Math.random().toString(36).substring(2,15)},qn=0,In=Cn()+Cn(),Nn=function(){return An.set(I("tokenName"),In,"","","/"),In};I({tokenName:"MIIEE_JTOKEN",request:{code:{fail:-1,success:100},msg:{def:"请求失败！请重试！",0:"无法连接到服务器！请检查网络连接！",500:"服务器出错!",timeout:"请求超时！",abort:"请求被终止！",parsererror:"服务器出错或数据解析出错！"}}}),n.generateToken=Nn,gn("request",["jquery"],function(t){var e=I("request"),r=e.code,i=e.msg,o=function(e,n,a){return qn?(setTimeout(function(){o(e,n,a)},50),!1):(qn=1,e.data.jtoken=Nn(),t.ajax(e).done(function(t){var r,i;t&&(r=t.code,i=t.result,i&&(i.code=r,i.msg=t.msg,i.result=ae(!0,X(i)?[]:{},i),t=i)),r===n?a.resolve(t,e):a.reject(r,t,e)}).fail(function(t,n){a.reject(r.fail,{code:r.fail,url:e.url,msg:i[t.status]||i[n]||i.def})}).always(function(){qn=0}),void 0)},a=function(e,i,a){var u=t.Deferred(),s={type:"post",dataType:"json",timeout:1e4};return"object"==typeof e?(s=ae(s,e),a=i):ae(s,{url:e,data:i}),a=a||r.success,i=s.data||{},e=n.addQueryParam(s.url.trim(),"_",Date.now()),Q(i)&&(i=xe(i)),s.url=e,s.data=i,o(s,a,u),u.promise()};return a})}("undefined"!=typeof window?window:this,document,"tbtx");