(function(t,e){var n=0;e=t[e]={log:function(e,n,r){return r&&(e=r+": "+e),void 0!==t.console&&console.log&&console[n&&console[n]?n:"log"](e),this},debug:!1,staticUrl:"http://static.tianxia.taobao.com/tbtx/",global:t,_tbtx:t[e],noop:function(){},uniqueCid:function(){return n++},$:t.jQuery||t.Zepto}})(this,"tbtx"),function(){var t,e,n,r;(function(){var i={},o={};t=function(t,e,n){i[t]={deps:e,callback:n}},r=n=e=function(t){function n(e){if("."!==e.charAt(0))return e;for(var n=e.split("/"),r=t.split("/").slice(0,-1),i=0,o=n.length;o>i;i++){var a=n[i];if(".."===a)r.pop();else{if("."===a)continue;r.push(a)}}return r.join("/")}if(r._eak_seen=i,o[t])return o[t];if(o[t]={},!i[t])throw Error("Could not find module "+t);for(var a,s=i[t],u=s.deps,c=s.callback,f=[],l=0,h=u.length;h>l;l++)"exports"===u[l]?f.push(a={}):f.push(e(n(u[l])));var p=c.apply(this,f);return o[t]=a||p}})(),t("promise/all",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!r(t))throw new TypeError("You must pass an array to all.");return new e(function(e,n){function r(t){return function(e){o(t,e)}}function o(t,n){s[t]=n,0===--u&&e(s)}var a,s=[],u=t.length;0===u&&e([]);for(var c=0;t.length>c;c++)a=t[c],a&&i(a.then)?a.then(r(c),n):o(c,a)})}var r=t.isArray,i=t.isFunction;e.all=n}),t("promise/asap",["exports"],function(t){"use strict";function e(){return function(){process.nextTick(i)}}function n(){var t=0,e=new u(i),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function r(){return function(){c.setTimeout(i,1)}}function i(){for(var t=0;f.length>t;t++){var e=f[t],n=e[0],r=e[1];n(r)}f=[]}function o(t,e){var n=f.push([t,e]);1===n&&a()}var a,s="undefined"!=typeof window?window:{},u=s.MutationObserver||s.WebKitMutationObserver,c="undefined"!=typeof global?global:this,f=[];a="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?e():u?n():r(),t.asap=o}),t("promise/cast",["exports"],function(t){"use strict";function e(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=this;return new e(function(e){e(t)})}t.cast=e}),t("promise/config",["exports"],function(t){"use strict";function e(t,e){return 2!==arguments.length?n[t]:(n[t]=e,void 0)}var n={instrument:!1};t.config=n,t.configure=e}),t("promise/polyfill",["./promise","./utils","exports"],function(t,e,n){"use strict";function r(){var t="Promise"in window&&"cast"in window.Promise&&"resolve"in window.Promise&&"reject"in window.Promise&&"all"in window.Promise&&"race"in window.Promise&&function(){var t;return new window.Promise(function(e){t=e}),o(t)}();t||(window.Promise=i)}var i=t.Promise,o=e.isFunction;n.polyfill=r}),t("promise/promise",["./config","./utils","./cast","./all","./race","./resolve","./reject","./asap","exports"],function(t,e,n,r,i,o,a,s,u){"use strict";function c(t){if(!_(t))throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof c))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._subscribers=[],f(t,this)}function f(t,e){function n(t){v(e,t)}function r(t){g(e,t)}try{t(n,r)}catch(i){r(i)}}function l(t,e,n,r){var i,o,a,s,u=_(n);if(u)try{i=n(r),a=!0}catch(c){s=!0,o=c}else i=r,a=!0;d(e,i)||(u&&a?v(e,i):s?g(e,o):t===C?v(e,i):t===I&&g(e,i))}function h(t,e,n,r){var i=t._subscribers,o=i.length;i[o]=e,i[o+C]=n,i[o+I]=r}function p(t,e){for(var n,r,i=t._subscribers,o=t._detail,a=0;i.length>a;a+=3)n=i[a],r=i[a+e],l(e,n,r,o);t._subscribers=null}function d(t,e){var n,r=null;try{if(t===e)throw new TypeError("A promises callback cannot return that same promise.");if(x(e)&&(r=e.then,_(r)))return r.call(e,function(r){return n?!0:(n=!0,e!==r?v(t,r):m(t,r),void 0)},function(e){return n?!0:(n=!0,g(t,e),void 0)}),!0}catch(i){return n?!0:(g(t,i),!0)}return!1}function v(t,e){t===e?m(t,e):d(t,e)||m(t,e)}function m(t,e){t._state===k&&(t._state=S,t._detail=e,w.async(b,t))}function g(t,e){t._state===k&&(t._state=S,t._detail=e,w.async(y,t))}function b(t){p(t,t._state=C)}function y(t){p(t,t._state=I)}var w=t.config;t.configure;var x=e.objectOrFunction,_=e.isFunction;e.now;var O=n.cast,j=r.all,E=i.race,A=o.resolve,T=a.reject,P=s.asap;w.async=P;var k=void 0,S=0,C=1,I=2;c.prototype={constructor:c,_state:void 0,_detail:void 0,_subscribers:void 0,then:function(t,e){var n=this,r=new this.constructor(function(){});if(this._state){var i=arguments;w.async(function(){l(n._state,r,i[n._state-1],n._detail)})}else h(this,r,t,e);return r},"catch":function(t){return this.then(null,t)}},c.all=j,c.cast=O,c.race=E,c.resolve=A,c.reject=T,u.Promise=c}),t("promise/race",["./utils","exports"],function(t,e){"use strict";function n(t){var e=this;if(!r(t))throw new TypeError("You must pass an array to race.");return new e(function(e,n){for(var r,i=0;t.length>i;i++)r=t[i],r&&"function"==typeof r.then?r.then(e,n):e(r)})}var r=t.isArray;e.race=n}),t("promise/reject",["exports"],function(t){"use strict";function e(t){var e=this;return new e(function(e,n){n(t)})}t.reject=e}),t("promise/resolve",["exports"],function(t){"use strict";function e(t){var e=this;return new e(function(e){e(t)})}t.resolve=e}),t("promise/utils",["exports"],function(t){"use strict";function e(t){return n(t)||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){return"[object Array]"===Object.prototype.toString.call(t)}var i=Date.now||function(){return(new Date).getTime()};t.objectOrFunction=e,t.isFunction=n,t.isArray=r,t.now=i}),e("promise/polyfill").polyfill()}(),function(t){t.fail=t["catch"],t.done=function(t){return this.then(t)},t.always=function(t){return this.then(t,t)}}(Promise.prototype),function(t){function e(e){this.name=e||"",this.cid=t.uniqueCid(),this.cache={}}e.prototype={set:function(t,e){this.cache[t]=e},get:function(t){return void 0===t?this.getAll():this.cache[t]},getAll:function(){return t.deepCopy(this.cache)},remove:function(t){delete this.cache[t]},clear:function(){delete this.cache,this.cache={}}};var n=new e("data");t.data=function(t,e){return void 0===e?n.get(t):n.set(t,e)},t.removeData=function(t){return n.remove(t),this},t.Cache=e}(tbtx),function(t,e,n){function r(t,e){return l.hasOwnProperty.call(t,e)}function i(){}function o(t){x(t)||(t=[t]);for(var e=this.prototype||this,n=t.shift();n;)re(e,n.prototype||n,["prototype"]),n=t.shift();return this}function a(t){return t.Implements=o,t}function s(t){var e=typeof t;return null===t||"object"!==e&&"function"!==e}var u,c,f=Array.prototype,l=Object.prototype,h=String.prototype,p=l.toString,d=!1,v=!0,m="",g={},b=function(t){return null===t?t+"":g[p.call(t)]||"object"},y=function(t,e,r){if(t){var i,o,a,s=0,u=t.length,c=u===n||"function"==b(t);if(r=r||null,c)for(a=A(t);a.length>s&&(i=a[s],e.call(r,t[i],i,t)!==d);s++);else for(o=t[0];u>s&&e.call(r,o,s,t)!==d;o=t[++s]);}return t},w=function(t){return"string"===b(t)},x=Array.isArray||function(t){return"array"===b(t)},_=function(t,e){return O(t,e)>-1},O=f.indexOf?function(t,e){return t.indexOf(e)}:function(t,e){var n;if(w(t)){for(n=0;t.length>n;n++)if(t.charAt(n)===e)return n}else for(n=0;t.length>n;n++)if(t[n]===e)return n;return-1},j=!{toString:1}.propertyIsEnumerable("toString"),E=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],A=Object.keys?function(t){return Object.keys(t)}:function(t){var e,n,r=[];for(e in t)r.push(e);if(j)for(n=E.length-1;n>=0;n--)e=E[n],t.hasOwnProperty(e)&&result.push(e);return r},T=function(t){if(!t||"object"!==b(t)||t.nodeType||t.window==t)return d;var e,i;try{if((i=t.constructor)&&!r(t,"constructor")&&!r(i.prototype,"isPrototypeOf"))return d}catch(o){return d}for(e in t);return e===n||r(t,e)},P=function(t){if(null===t||!t)return[];if(x(t))return t;var e=typeof t.length,n=typeof t;if("number"!==e||t.alert||"string"===n||"function"===n&&!("item"in t&&"number"===e))return[t];for(var r=[],i=0,o=t.length;o>i;i++)r[i]=t[i];return r},k=function(t){if(!t||"object"!=typeof t)return t;var e,n=t.constructor===Array?[]:{};for(e in t)t.hasOwnProperty(e)&&(n[e]="object"==typeof t[e]?k(t[e]):t[e]);return n},S=function(t,e){var n,r,i;return x(t)&&(n=t,t=0,e=n.length),t>e&&(i=t,t=e,e=i),r=Math.floor(Math.random()*(e-t)+t),n?n[r]:r},C=function(t){if(!x(t))return[];var e,n,r=t.length,i=r;if(0===r)return[];for(;i>1;)i-=1,n=S(0,i),e=t[i],t[i]=t[n],t[n]=e;return t},I=function(t,n){e.isFunction(t)||(n=t,t=null),n=n||{};var r=function(){t&&t.apply(this,arguments),this.constructor===r&&this.init&&this.init.apply(this,arguments)};if(t){var i=X(t.prototype);re(i,r.prototype),r.prototype=i,r.superclass=t.prototype}return r.fn=r.prototype,r.fn.constructor=r,re(r,I.Mutators),r.fn.proxy=r.proxy,r.include(n)},D=Date.now||function(){return+new Date},z=function(t,e,n){if(e=e||100,-1===e)return function(){t.apply(n||this,arguments)};var r=D();return function(){var i=D();i-r>e&&(r=i,t.apply(n||this,arguments))}},F=function(t){var e=[].slice,n=e.call(arguments,1);return function(){var r=e.call(arguments),i=n.concat(r);return t.apply(null,i)}},R=function(t,r,i){return e.isNotEmptyString(t)?T(r)||x(r)?t.replace(i||/\\?\{\{\s*([^{}\s]+)\s*\}\}/g,function(t,e){return"\\"===t.charAt(0)?t.slice(1):r[e]===n?"":r[e]}):t:t},M=function(t,r,i,o){r=r||"&",i=i||"=",o===n&&(o=v);var a,u,c,f,l,h=[],p=encodeURIComponent;for(a in t)if(l=t[a],a=p(a),s(l))h.push(a),l!==n&&h.push(i,p(l+m)),h.push(r);else if(e.isArray(l)&&l.length)for(u=0,f=l.length;f>u;++u)c=l[u],s(c)&&(h.push(a,o?p("[]"):m),c!==n&&h.push(i,p(c+m)),h.push(r));return h.pop(),h.join(m)},N=function(t,r,i){if(!e.isNotEmptyString(t))return{};r=r||"&",i=i||"=";for(var o,a,s,u={},c=decodeURIComponent,f=t.split(r),l=0,h=f.length;h>l;++l){if(o=O(f[l],i),-1==o)a=c(f[l]),s=n;else{a=c(f[l].substring(0,o)),s=f[l].substring(o+1);try{s=c(s)}catch(p){e.log(p+"decodeURIComponent error : "+s,"error")}}u[a]=s}return u},q=RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),L=new e.Cache("parseUrl"),W=function(t){var n,r={};t=t||location.href;var i=L.get(t);return i?i:e.isNotEmptyString(t)?(n=q.exec(t),n&&(y(n,function(t,e){t||(n[e]="")}),r={scheme:n[1],credentials:n[2],domain:n[3],port:n[4],path:n[5],query:n[6],fragment:n[7]}),L.set(t,r),r):r},U=function(t){return W(t).fragment},B=function(t,n){e.isUri(t)&&(n=t,t="");var r=W(n),i=r.query;return e.isString(r.query)&&(i=N(i)),t?i[t]||"":i},$=function(t,n,r){var i={};T(t)?(r=n,i=t):i[t]=n;var o=W(r),a=o.query;return e.isString(a)&&(a=N(o.query)),o.query=re(a,i),H(o)},V=function(t,n){t=e.isArray(t)?t:[t];var r=W(n),i=N(r.query);return y(t,function(t){i[t]&&delete i[t]}),r.query=i,H(r)},H=function(t){var e,n=[t.scheme,"://",t.domain];return e=t.port,e&&n.push(":"+e),n.push(t.path),e=t.query,"object"==typeof e&&(e=M(e)),e&&n.push("?"+e),e=t.fragment,e&&n.push("#"+e),n.join("")},G={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},Y={},Q=function(){if(u)return u;var t=m;return y(G,function(e){t+=e+"|"}),t=t.slice(0,-1),u=RegExp(t,"g")},J=function(){if(c)return c;var t=m;return y(Y,function(e){t+=e+"|"}),t+="&#(\\d{1,5});",c=RegExp(t,"g")},K=function(t){return(t+"").replace(Q(),function(t){return Y[t]})},Z=function(t){return(t+"").replace(J(),function(t){return G[t]})};(function(){for(var t in G)Y[G[t]]=t})(),y("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,n){g["[object "+t+"]"]=n=t.toLowerCase(),e["is"+t]=function(t){return b(t)===n}}),e.isArray=Array.isArray||e.isArray;var X=Object.__proto__?function(t){return{__proto__:t}}:function(t){return i.prototype=t,new i};I.Mutators={extend:function(t){var e=t.extended;return re(this,t,["extended"]),e&&e(this),this},include:function(t){var e=t.included;return re(this.prototype,t,["included"]),e&&e(this),this},proxy:function(t){var e=this;return function(){return t.apply(e,arguments)}},Implements:o};var te="	\n\f\r   ᠎             　\u2028\u2029﻿";if(!String.prototype.trim||te.trim()){te="["+te+"]";var ee=RegExp("^"+te+te+"*"),ne=RegExp(te+te+"*$");h.trim=function(){if(this===void 0||null===this)throw new TypeError("can't convert "+this+" to object");return(this+"").replace(ee,"").replace(ne,"")}}var re=e.mix=function(t,e,n,r,i){var o;if(!t||t===e)return t;e||(e=t,t=this),n||(n=[]),r||(r=!0);for(o in e)_(n,o)||!r&&o in t||(t[o]=i?k(e[o]):e[o]);return t},ie=/\/\*!?(?:\@preserve)?\s*(?:\r\n|\n)([\s\S]*?)(?:\r\n|\n)\s*\*\//;e.mix({mix:re,classify:a,isNotEmptyString:function(t){return w(t)&&""!==t},trim:function(t){return t.trim()},bind:function(t,e){if(2>arguments.length&&e===n)return t;var r=[].slice,i=r.call(arguments,2);return function(){var n=r.call(arguments,0);return t.apply(e,i.concat(n))}},isPlainObject:T,isPending:function(t){return t?t.resolve&&t.promise?"pending"===t.state():d:d},isUri:function(t){var n;return e.isNotEmptyString(t)&&(n=q.exec(t),n&&n[1])?v:d},singleton:function(t,e){var n;return function(){return n||(n=t.apply(e,arguments))}},ucfirst:function(t){return t.charAt(0).toUpperCase()+t.substring(1)},lcfirst:function(t){return t.charAt(0).toLowerCase()+t.substring(1)},later:function(t,n,r,i,o){n=n||0;var a,s,u=t,c=P(o);return"string"==typeof t&&(u=i[t]),u||e.error("method undefined"),a=function(){u.apply(i,c)},s=r?setInterval(a,n):setTimeout(a,n),{id:s,interval:r,cancel:function(){this.interval?clearInterval(s):clearTimeout(s)}}},inArray:_,type:b,each:y,indexOf:O,filter:f.filter?function(t,e,n){return f.filter.call(t,e,n)}:function(t,e,n){var r=[];return y(t,function(i,o){e.call(n||this,i,o,t)&&r.push(i)}),r},map:f.map?function(t,e,n){return f.map.call(t,e,n||this)}:function(t,e,n){for(var r=t.length,i=Array(r),o=0;r>o;o++){var a="string"==typeof t?t.charAt(o):t[o];(a||o in t)&&(i[o]=e.call(n||this,a,o,t))}return i},every:f.every?function(t,e,n){return f.every.call(t,e,n||this)}:function(t,e,n){for(var r=t&&t.length||0,i=0;r>i;i++)if(i in t&&!e.call(n,t[i],i,t))return d;return v},some:f.some?function(t,e,n){return f.some.call(t,e,n||this)}:function(t,e,n){for(var r=t&&t.length||0,i=0;r>i;i++)if(i in t&&e.call(n,t[i],i,t))return v;return d},reduce:function(t,e,r){var i,o=r,a=0,s=t.length;if(r===n&&(o=t[0],a=1),"function"==typeof e)for(a;s>a;a++)i=t.hasOwnProperty(a)&&(o=e(o,t[a],a,t));return o},unique:function(t){var e,n=[],r={};for(e=0;t.length>e;e++){var i=t[e],o=typeof i+i;1!==r[o]&&(n.push(i),r[o]=1)}return n},sizeof:function(t){return(t+"").replace(/[^\x00-\xff]/g,"aa").length},keys:A,makeArray:P,deepCopy:k,namespace:function(){var e,n,r,i=P(arguments),o=i.length,a=this;for(e=0;o>e;e++)for(r=(m+i[e]).split("."),n=t[r[0]]===a?1:0;r.length>n;++n)a=a[r[n]]=a[r[n]]||{};return a},startsWith:function(t,e){return 0===t.lastIndexOf(e,0)},endsWith:function(t,e){var n=t.length-e.length;return n>=0&&t.indexOf(e,n)==n},multiline:function(t){if("function"!=typeof t)return"";var e=ie.exec(""+t);if(!e)throw new TypeError("Multiline comment missing.");return e[1]},choice:S,shuffle:C,Class:I,Now:D,throttle:z,curry:F,substitute:R,unparam:N,param:M,parseUrl:W,getFragment:U,getQueryParam:B,addQueryParam:$,removeQueryParam:V,escapeHtml:K,unEscapeHtml:Z})}(this,tbtx,void 0),function(t){function e(e,r,i){var o=b[e];if(o)return o.then(r);var a=v.test(e),s=l.createElement(a?"link":"script");if(i){var u=t.isFunction(i)?i(e):i;u&&(s.charset=u)}return o=b[e]=new Promise(function(t){n(s,t,a)}),o.then(r),a?(s.rel="stylesheet",s.href=e):(s.async=!0,s.src=e),d?p.insertBefore(s,d):p.appendChild(s),o}function n(t,e,n){var i=n&&(g||!("onload"in t));return i?(setTimeout(function(){r(t,e)},1),void 0):(t.onload=t.onerror=t.onreadystatechange=function(){m.test(t.readyState)&&(t.onload=t.onerror=t.onreadystatechange=null,n||p.removeChild(t),t=null,e())},void 0)}function r(t,e){var n,i=t.sheet;if(g)i&&(n=!0);else if(i)try{i.cssRules&&(n=!0)}catch(o){"NS_ERROR_DOM_SECURITY_ERR"===o.name&&(n=!0)}setTimeout(function(){n?e():r(t,e)},20)}function i(e){return y.test(e)||(e=t.staticUrl+e),e}function o(t,n,r){return t=i(t),e(t,n,r)}function a(n,r,o){if(t.isArray(n)){var a;return n.length,n=t.map(n,function(t){return i(t)}),a=e(n[0],f,o),t.reduce(n,function(t,n){return a=a.then(function(){return e(n,f,o)}),n}),a.then(r)}return e(i(n),r,o)}function s(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}function u(){for(var t,e,n=l.scripts,r=n.length-1;r>=0;r--)if(t=n[r],e=s(t),e&&/tbtx\.(min\.)?js/.test(e))return e;return null}function c(t){for(t=t.replace(w,"/");t.match(x);)t=t.replace(x,"/");return t}var f=t.noop,l=document,h=l.documentElement,p=l.head||l.getElementsByTagName("head")[0]||h,d=p.getElementsByTagName("base")[0],v=/\.css(?:\?|$)/i,m=/^(?:loaded|complete|undefined)$/,g=536>1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1"),b={},y=/^(http|file)/i,w=/\/\.\//g,x=/\/[^/]+\/\.\.\//,_=u();_&&(t.staticUrl=c(_+"/../../../")),t.mix({realpath:c,loadCss:o,loadScript:a})}(tbtx),function(t){function e(t){var e=t.length-1,n=t.charAt(e);return"#"===n?t.substring(0,e):".js"===t.substring(e-2)||t.indexOf("?")>0||".css"===t.substring(e-3)||"/"===n?t:t+".js"}function n(e){var n=f.alias;return n&&t.isString(n[e])?n[e]:e}function r(e){var n,r=f.paths;return r&&(n=e.match(l))&&t.isString(r[n[1]])&&(e=r[n[1]]+n[2]),e}function i(t){return f.baseUrl+t}function o(o){if(!o)return"";o=n(o),o=r(o),o=e(o);var a=i(o);return t.realpath(a)}function a(t,e){this.uri=t,this.dependencies=e||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function s(){return b++}var u=t.namespace("Loader"),c=t.global,f=u.data={baseUrl:t.staticUrl+"base/js/component/",alias:{jquery:"jquery/jquery-1.8.3.min.js",handlebars:"gallery/handlebars/1.3.0/handlebars.js",easing:"plugin/jquery.easing.1.3.js"},paths:{miiee:"../../../miiee",plugin:"../plugin",gallery:"../gallery",jquery:"../jquery"},deps:{drop:"overlay",popup:"overlay",tip:"drop",lightbox:"overlay",templatable:"handlebars",autocomplete:["overlay","templatable"]},exports:{}};u.config=function(e){for(var n in e){var r=e[n],o=f[n];if(o&&t.isObject(o))for(var a in r)o[a]=r[a];else t.isArray(o)?r=o.concat(r):"base"===n&&("/"===r.slice(-1)||(r+="/"),r=i(r)),f[n]=r}};var l=/^([^/:]+)(\/.+)$/;a.prototype={resolve:function(){var e=this,n=e.dependencies,r=t.map(n,function(t){return a.resolve(t)});return r},isToFetch:function(){var e=this;return!t.startsWith(e.uri,y)},load:function(){var e=this;if(!(e.status>=m.LOADING)){e.status=m.LOADING;var n=e.resolve();e._remain=n.length;var r;return t.each(n,function(t){r=a.get(t),r.status<m.LOADED?r._waitings[e.uri]=(r._waitings[e.uri]||0)+1:e._remain--}),0===e._remain?(e.onload(),void 0):(t.each(n,function(t){r=h[t],r.status<m.LOADING&&r.load()}),void 0)}},onload:function(){var t=this;if(t.status<m.FETCHING&&t.isToFetch())return t.fetch(),void 0;t.status=m.LOADED,t.callback&&t.callback();var e,n,r=t._waitings;for(e in r)r.hasOwnProperty(e)&&(n=h[e],n._remain-=r[e],0===n._remain&&n.onload());delete t._waitings,delete t._remain},fetch:function(){function e(){t.loadScript(o,n,f.charset)}function n(){delete p[o],d[o]=!0,r.onload();var t,e=v[o];for(delete v[o];t=e.shift();)t.onload()}var r=this,i=r.uri;r.status=m.FETCHING;var o=i;return p[o]?(v[o].push(r),void 0):(p[o]=!0,v[o]=[r],e(),void 0)}};var h=u.cache={},p={},d={},v={},m=a.STATUS={LOADING:1,FETCHING:2,LOADED:3},g={};a.resolve=function(t){var e=o(t);return g[e]=t,e},a.get=function(e,n){var r=g[e]||"";return h[e]||(h[e]=new a(e,n||t.makeArray(f.deps[r])))},a.require=function(e,n,r){var i=a.get(r,t.makeArray(e)),o=new Promise(function(t){i.callback=function(){n&&n.apply(c),t(),delete i.callback}});return i.load(),o};var b=0,y="require_";t.require=function(t,e){return a.require(t,e,y+s())}}(tbtx),function(t){var e=new Promise(function(e){t.$?e(t):t.require("jquery").then(function(){t.$=jQuery,e(t)})});t.ready=function(t){return e.then(t)}}(tbtx),function(t){var e=Object.prototype.toString,n=function(t){return"[object String]"===e.call(t)},r=function(t){return n(t)&&""!==t},i=document,o=864e5,a=encodeURIComponent,s=decodeURIComponent,u={get:function(t){var e,n;return r(t)&&(n=(i.cookie+"").match(RegExp("(?:^| )"+t+"(?:(?:=([^;]*))|;|$)")))&&(e=n[1]?s(n[1]):""),e},set:function(t,e,n,s,u,c){var f=a(e)+"",l=s;return"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+s*o)),l instanceof Date&&(f+="; expires="+l.toUTCString()),r(n)&&(f+="; domain="+n),r(u)&&(f+="; path="+u),c&&(f+="; secure"),i.cookie=t+"="+f,this},remove:function(t,e,n,r){return this.set(t,"",e,-1,n,r),this}};t.cookie=u}(tbtx),function(t){var e=document,n=t.namespace("support");t.mix(n,{placeholder:"placeholder"in e.createElement("input")},[],!1,!0)}(tbtx),function(t){function e(t,e){t=t||"Y-m-d h:i:s";var r,i=n(e),o=t;for(r in i)o=o.replace(r,i[r]);return o}function n(t){t=i(t);var e,n,r={Y:t.getFullYear(),M:t.getMonth()+1,D:t.getDate(),H:t.getHours(),I:t.getMinutes(),S:t.getSeconds()},o={};for(n in r)o[n]=r[n],e=n.toLowerCase(),o[e]="y"==e?(""+r[n]).substring(2,4):10>r[n]?"0"+r[n]:r[n];return o}function r(t,e){t=i(t),e=i(e);var n,r=60,o=60*r,a=24*o,s=30*a,u=365*a,c=Math.abs(t.getTime()-e.getTime())/1e3;return c>=u?Math.floor(c/u)+"年前":c>=s?Math.floor(c/s)+"个月前":c>=a?(n=Math.floor(c/a),1==n?"昨天":n+"天前"):r>c&&"刚刚"||o>c&&Math.floor(c/r)+"分钟前"||a>c&&Math.floor(c/o)+"小时前"}function i(t){if(o(t))return t;var e=typeof t;return"number"==e||"string"==e?new Date(t):new Date}var o=t.isDate;t.mix({normalizeDate:n,ago:r,formatDate:e})}(tbtx),function(t){function e(t){return Object.prototype.toString.call(t)}function n(t){return"[object Object]"===e(t)}function r(t){return"[object Function]"===e(t)}function i(t,e){for(var n=0,r=t.length;r>n&&e.call(t,t[n],n)!==!1;n++);}function o(t){if(!m.test(t))return null;var e,n,r,i,o;if(-1!==t.indexOf("trident/")&&(e=/\btrident\/([0-9.]+)/.exec(t),e&&e.length>=2)){r=e[1];var a=e[1].split(".");a[0]=parseInt(a[0],10)+4,o=a.join(".")}e=m.exec(t),i=e[1];var s=e[1].split(".");return o===void 0&&(o=i),s[0]=parseInt(s[0],10)-4,n=s.join("."),r===void 0&&(r=n),{browserVersion:o,browserMode:i,engineVersion:r,engineMode:n,compatible:r!==n}}function a(t){if(v)try{var e=v.twGetRunPath.toLowerCase(),n=v.twGetSecurityID(window),r=v.twGetVersion(n);if(e&&-1===e.indexOf(t))return!1;if(r)return{version:r}}catch(i){}}function s(t,i,o){var a=r(i)?i.call(null,o):i;if(!a)return null;var s={name:t,version:l,codename:""},u=e(a);if(a===!0)return s;if("[object String]"===u){if(-1!==o.indexOf(a))return s}else{if(n(a))return a.hasOwnProperty("version")&&(s.version=a.version),s;if(a.exec){var c=a.exec(o);if(c)return s.version=c.length>=2&&c[1]?c[1].replace(/_/g,"."):l,s}}}function u(t,e,n,r){var o=x;i(e,function(e){var n=s(e[0],e[1],t);return n?(o=n,!1):void 0}),n.call(r,o.name,o.version)}function c(t,e){var n;for(n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}var f={},l="-1",h=navigator.userAgent||"",p=navigator.appVersion||"",d=navigator.vendor||"",v=window.external,m=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,g=[["nokia",function(t){return-1!==t.indexOf("nokia ")?/\bnokia ([0-9]+)?/:-1!==t.indexOf("noain")?/\bnoain ([a-z0-9]+)/:/\bnokia([a-z0-9]+)?/}],["samsung",function(t){return-1!==t.indexOf("samsung")?/\bsamsung(?:\-gt)?[ \-]([a-z0-9\-]+)/:/\b(?:gt|sch)[ \-]([a-z0-9\-]+)/}],["wp",function(t){return-1!==t.indexOf("windows phone ")||-1!==t.indexOf("xblwp")||-1!==t.indexOf("zunewp")||-1!==t.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build))/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",/\b(?:meizu\/|m)([0-9]+)\b/],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(t){return-1!==t.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(t){return-1!==t.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(t){return/\bzte\-[tu]/.test(t)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo ([a-z0-9]+)/],["htc",function(t){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(t)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android","android"],["blackberry","blackberry"]],b=[["wp",function(t){return-1!==t.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==t.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==t.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(t){return/\bcpu(?: iphone)? os /.test(t)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==t.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["meego",/\bmeego\b/],["blackberry","blackberry"]],y=[["trident",m],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",/\bgecko\/(\d+)/],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/]],w=[["sg",/ se ([0-9.x]+)/],["tw",function(){var t=a("theworld");return t!==void 0?t:"theworld"}],["360",function(t){var e=a("360se");return e!==void 0?e:-1!==t.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["mx",function(){try{if(v&&(v.mxVersion||v.max_version))return{version:v.mxVersion||v.max_version}}catch(t){}return/\bmaxthon(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["lb",function(t){if(-1===t.indexOf("lbbrowser"))return!1;var e;try{v&&v.LiebaoGetVersion&&(e=v.LiebaoGetVersion())}catch(n){}return{version:e||l}}],["tao",/\btaobrowser\/([0-9.]+)/],["fs",/\bcoolnovo\/([0-9.]+)/],["sy","saayaa"],["baidu",/\bbidubrowser[ \/]([0-9.x]+)/],["ie",m],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(t){var e=/\bopera.+version\/([0-9.ab]+)/,n=/\bopr\/([0-9.]+)/;return e.test(t)?e:n}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(t){return t.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(t)?/\buc\/([0-9.]+)/:t.indexOf("ucweb")>=0?/\bucweb[\/]?([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["android",function(t){return-1!==t.indexOf("android")?/\bversion\/([0-9.]+(?: beta)?)/:void 0}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],x={name:"na",version:l},_=function(t){t=(t||"").toLowerCase();var e={};u(t,g,function(t,n){var r=parseFloat(n);e.device={name:t,version:r,fullVersion:n},e.device[t]=r},e),u(t,b,function(t,n){var r=parseFloat(n);e.os={name:t,version:r,fullVersion:n},e.os[t]=r},e);var n=o(t);return u(t,y,function(t,r){var i=r;n&&(r=n.engineVersion||n.engineMode,i=n.engineMode);var o=parseFloat(r);e.engine={name:t,version:o,fullVersion:r,mode:parseFloat(i),fullMode:i,compatible:n?n.compatible:!1},e.engine[t]=o},e),u(t,w,function(t,r){var i=r;n&&("ie"===t&&(r=n.browserVersion),i=n.browserMode);var o=parseFloat(r);e.browser={name:t,version:o,fullVersion:r,mode:parseFloat(i),fullMode:i,compatible:n?n.compatible:!1},e.browser[t]=o},e),e};f=_(h+" "+p+" "+d),f.parse=_;var O=/(iPod|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian)/gi,j=function(t){var e=O.exec(t);return e?e[1]:""};f.mobile=j(h),c(t,{detector:f,decideMobile:j,isIE6:f.browser.ie&&6==f.browser.version,isMobile:!!f.mobile})}(tbtx),function(t){function e(t){t=a(t)||{},t.nodeType&&(t={element:t});var e=a(t.element)||l;if(1!==e.nodeType)throw Error("posObject.element is invalid.");var n={element:e,x:t.x||0,y:t.y||0},r=e===l||"VIEWPORT"===e._id;return n.offset=function(){return h?{left:0,top:0}:r?{left:u(document).scrollLeft(),top:u(document).scrollTop()}:s(u(e)[0])},n.size=function(){var t=r?u(window):u(e);return{width:t.outerWidth(),height:t.outerHeight()}},n}function n(t){t.x=r(t.x,t,"width"),t.y=r(t.y,t,"height")}function r(t,e,n){if(t+="",t=t.replace(/px/gi,""),/\D/.test(t)&&(t=t.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==t.indexOf("%")&&(t=t.replace(/(\d+(?:\.\d+)?)%/gi,function(t,r){return e.size()[n]*(r/100)})),/[+\-*\/]/.test(t))try{t=Function("return "+t)()}catch(r){throw Error("Invalid position value: "+t)}return o(t)}function i(t){var e=t.offsetParent();e[0]===document.documentElement&&(e=u(document.body)),d&&e.css("zoom",1);var n;return n=e[0]===document.body&&"static"===e.css("position")?{top:0,left:0}:s(e[0]),n.top+=o(e.css("border-top-width")),n.left+=o(e.css("border-left-width")),n}function o(t){return parseFloat(t,10)||0}function a(t){return u(t)[0]}function s(t){var e=t.getBoundingClientRect(),n=document.documentElement;return{left:e.left+(window.pageXOffset||n.scrollLeft)-(n.clientLeft||document.body.clientLeft||0),top:e.top+(window.pageYOffset||n.scrollTop)-(n.clientTop||document.body.clientTop||0)}}var u=t.$,c=t;t.ready(function(t){u=t.$});var f=c,l={_id:"VIEWPORT",nodeType:1},h=!1,p=(window.navigator.userAgent||"").toLowerCase(),d=-1!==p.indexOf("msie 6");f.pin=function(t,r){t=e(t),r=e(r);var o=u(t.element);"fixed"!==o.css("position")||d?(o.css("position","absolute"),h=!1):h=!0,n(t),n(r);var a=i(o),s=r.offset(),c=s.top+r.y-t.y-a.top,f=s.left+r.x-t.x-a.left;o.css({left:f,top:c})},f.center=function(t,e){f.pin({element:t,x:"50%",y:"50%"},{element:e,x:"50%",y:"50%"})},f.VIEWPORT=l}(tbtx),function(t){var e=t.global,n=t.$,r=t.noop,i=t.each,o=t.ucfirst,a=t.singleton,s=t.throttle;t.ready(function(t){n=t.$});var u=document,c=u.documentElement,f=u.head||u.getElementsByTagName("head")[0]||c,l=[["window",function(){return n(window)}],["document",function(){return n(u)}],["head",function(){return n(f)}],["body",function(){return n("body")}]];i(l,function(e){t["get"+o(e[0])]=a(e[1])});var h=function(){return t.getDocument().height()},p=function(){return t.getDocument().width()},d=function(){return t.getWindow().scrollLeft()},v=function(){return t.getWindow().scrollTop()},m=function(){return t.getWindow().height()},g=function(){return t.getWindow().width()},b=function(t){return n(t).css({width:g(),height:m()})},y=function(t){return n(t).css({width:p(),height:h()})},w=a(function(){var t=u.body;return/msie [67]/.test(navigator.userAgent.toLowerCase())&&(t=u.documentElement),n(t)}),x=function(){return w().css("overflow","hidden"),this},_=function(){return w().css("overflow","auto"),this},O=function(t,e){return n.contains?n.contains(t,e):!!(16&t.compareDocumentPosition(e))},j=function(t){return O(c,t)},E=function(e,r){r=r||0;var i=n(e),o=i.innerHeight(),a=t.getWindow(),s=a.height();("center"==r||"number"!=typeof r)&&(r=(s-o)/2);var u=a.scrollTop(),c=u+s,f=i.offset().top+r,l=f+o;return c>f&&l>u},A=function(t){var e;if("number"==typeof t)e=t;else{var r=n(t),i=r.offset().top;e=i-(m()-r.innerHeight())/2}return n("body,html").animate({scrollTop:e},800),this},T=function(t,e,r){var i=n(t);return r=r||"...",e=e||"data-max",i.each(function(){var t=n(this),i=parseInt(t.attr(e),10),o=n.trim(t.text());i>=o.length||(o=o.slice(0,i-r.length)+r,t.text(o))}),this},P=function(t,e,r){var i=n(t);return r=r||"#FFF",e=e||"#FF9",i.each(function(t,i){var o=n(i);o.css("background-color",e).fadeOut("fast",function(){o.fadeIn("fast",function(){o.css("background-color",r).focus().select()})})}),this},k=function(e){var r=n(e),i=r.data("offset");i&&t.on("window.scroll",function(t){t>i?r.fadeIn():r.fadeOut()});var o=r.find(".J-fly-to-top"),a=o.length?o:r;return a.on("click",function(){return A(0),!1}),this},S=function(n){n=n||r;var i="http://a.tbcdn.cn/p/header/webww-min.js";return e.KISSY?t.loadScript(i,n):t.loadScript(["http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js",i],n),this
};t.ready(function(t){var e=t.getWindow(),n=e.width(),r=e.height(),i=e.scrollTop();e.on("resize",s(function(){var i=e.width(),o=e.height();(n!==i||r!==o)&&t.trigger("window.resize",i,o),n=i,r=o},80)).on("scroll",s(function(){var n=e.scrollTop();i!==n&&t.trigger("window.scroll",n,i),i=n},80))}),t.mix({pageWidth:p,pageHeight:h,scrollY:v,scrollX:d,viewportHeight:m,viewportWidth:g,fullViewport:b,fullPage:y,stopBodyScroll:x,resetBodyScroll:_,contains:O,isInDocument:j,isInView:E,scrollTo:A,limitLength:T,initWangWang:S,flash:P,flyToTop:k,embedPlayer:function(e){e=e||{},t.loadScript("http://api.video.taobao.com/video/getPlayerJS").done(function(){n(e.div).each(function(r,i){var o=n(i),a=n.extend({},e,o.data());o=n("<div></div>").appendTo(o);var s="tbtx-player-"+t.uniqueCid();o.attr("id",s),a.div=s;var u={width:"100%",height:"100%"};tb_player_object.embedPlayer(t.mix(u,a),a,a)})})}})}(tbtx),function(t){function e(){}function n(t,e,n,r){var i;if(t)for(var o=0,a=t.length;a>o;o+=2)i=t[o].apply(t[o+1]||n,e),i===!1&&r.status&&(r.status=!1)}var r=/\s+/;e.prototype.on=function(t,e,n){var i,o,a;if(!e)return this;for(i=this.__events||(this.__events={}),t=t.split(r);o=t.shift();)a=i[o]||(i[o]=[]),a.push(e,n);return this},e.prototype.off=function(t,e,n){var o,a,s,u;if(!(o=this.__events))return this;if(!(t||e||n))return delete this.__events,this;for(t=t?t.split(r):i(o);a=t.shift();)if(s=o[a])if(e||n)for(u=s.length-2;u>=0;u-=2)e&&s[u]!==e||n&&s[u+1]!==n||s.splice(u,2);else delete o[a];return this},e.prototype.trigger=function(t){var e,i,o,a,s,u,c=[],f={status:!0};if(!(e=this.__events))return this;for(t=t.split(r),s=1,u=arguments.length;u>s;s++)c[s-1]=arguments[s];for(;i=t.shift();)(o=e.all)&&(o=o.slice()),(a=e[i])&&(a=a.slice()),n(a,c,this,f),n(o,[i].concat(c),this,f);return f.status},e.mixTo=function(t){t=t.prototype||t;var n=e.prototype;for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])};var i=Object.keys;i||(i=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),t.Events=e,e.mixTo(t)}(tbtx),function(t){function e(t,e,i,a){for(var s,u,c=e.split(o);s=c.shift();)u=n(this,s),u.__isAspected||r.call(this,s),this.on(t+":"+s,i,a);return this}function n(e,n){var r=e[n];return r||t.error("Invalid method name: "+n),r}function r(t){var e=this[t];this[t]=function(){var n=Array.prototype.slice.call(arguments),r=["before:"+t].concat(n);if(this.trigger.apply(this,r)!==!1){var i=e.apply(this,arguments),o=["after:"+t,i].concat(n);return this.trigger.apply(this,o),i}},this[t].__isAspected=!0}var i=t.namespace("Aspect");i.before=function(t,n,r){return e.call(this,"before",t,n,r)},i.after=function(t,n,r){return e.call(this,"after",t,n,r)};var o=/\s+/}(tbtx),function(t){function e(t){return"[object String]"===y.call(t)}function n(t){return"[object Function]"===y.call(t)}function r(t){return null!=t&&t==t.window}function i(t){if(!t||"[object Object]"!==y.call(t)||t.nodeType||r(t))return!1;try{if(t.constructor&&!w.call(t,"constructor")&&!w.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}var n;if(b)for(n in t)return w.call(t,n);for(n in t);return void 0===n||w.call(t,n)}function o(t){if(!t||"[object Object]"!==y.call(t)||t.nodeType||r(t)||!t.hasOwnProperty)return!1;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function a(t,e){var n,r;for(n in e)if(e.hasOwnProperty(n)){if(r=e[n],x(r))r=r.slice();else if(i(r)){var o=t[n];i(o)||(o={}),r=a(o,r)}t[n]=r}return t}function s(t,e,n){for(var r=[],i=e.constructor.prototype;i;)i.hasOwnProperty("attrs")||(i.attrs={}),c(n,i.attrs,i),o(i.attrs)||r.unshift(i.attrs),i=i.constructor.superclass;for(var s=0,u=r.length;u>s;s++)a(t,p(r[s]))}function u(t,e){a(t,p(e,!0))}function c(t,e,n,r){for(var i=0,o=t.length;o>i;i++){var a=t[i];n.hasOwnProperty(a)&&(e[a]=r?e.get(a):n[a])}}function f(t,e){for(var r in e)if(e.hasOwnProperty(r)){var i,o=e[r].value;n(o)&&(i=r.match(O))&&(t[i[1]](l(i[2]),o),delete e[r])}}function l(t){var e=t.match(j),n=e[1]?"change:":"";return n+=e[2].toLowerCase()+e[3]}function h(t,e,n){var r={silent:!0};t.__initializingAttrs=!0;for(var i in n)n.hasOwnProperty(i)&&e[i].setter&&t.set(i,n[i],r);delete t.__initializingAttrs}function p(t,e){var n={};for(var r in t){var o=t[r];n[r]=!e&&i(o)&&d(o,E)?o:{value:o}}return n}function d(t,e){for(var n=0,r=e.length;r>n;n++)if(t.hasOwnProperty(e[n]))return!0;return!1}function v(t){return null==t||(e(t)||x(t))&&0===t.length||o(t)}function m(t,e){if(t===e)return!0;if(v(t)&&v(e))return!0;var n=y.call(t);if(n!=y.call(e))return!1;switch(n){case"[object String]":return t==e+"";case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase;case"[object Array]":var r=""+t,o=""+e;return-1===r.indexOf("[object")&&-1===o.indexOf("[object")&&r===o}if("object"!=typeof t||"object"!=typeof e)return!1;if(i(t)&&i(e)){if(!m(_(t),_(e)))return!1;for(var a in t)if(t[a]!==e[a])return!1;return!0}return!1}var g=t.namespace("Attrs");g.initAttrs=function(t){var e=this.attrs={},n=this.propsInAttrs||[];s(e,this,n),t&&u(e,t),h(this,e,t),f(this,e),c(n,this,e,!0)},g.get=function(t){var e=this.attrs[t]||{},n=e.value;return e.getter?e.getter.call(this,n,t):n},g.set=function(t,n,r){var o={};e(t)?o[t]=n:(o=t,r=n),r||(r={});var s=r.silent,u=r.override,c=this.attrs,f=this.__changedAttrs||(this.__changedAttrs={});for(t in o)if(o.hasOwnProperty(t)){var l=c[t]||(c[t]={});if(n=o[t],l.readOnly)throw Error("This attribute is readOnly: "+t);l.setter&&(n=l.setter.call(this,n,t));var h=this.get(t);!u&&i(h)&&i(n)&&(n=a(a({},h),n)),c[t].value=n,this.__initializingAttrs||m(h,n)||(s?f[t]=[n,h]:this.trigger("change:"+t,n,h,t))}return this},g.change=function(){var t=this.__changedAttrs;if(t){for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];this.trigger("change:"+e,n[0],n[1],e)}delete this.__changedAttrs}return this},g._isPlainObject=i;var b,y=Object.prototype.toString,w=Object.prototype.hasOwnProperty;(function(){function t(){this.x=1}var e=[];t.prototype={valueOf:1,y:1};for(var n in new t)e.push(n);b="x"!==e[0]})();var x=Array.isArray||function(t){return"[object Array]"===y.call(t)},_=Object.keys;_||(_=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e});var O=/^(on|before|after)([A-Z].*)$/,j=/^(Change)?([A-Z])(.*)/,E=["value","getter","setter","readOnly"]}(tbtx),function(t){function e(t,e){for(var n in e)if(e.hasOwnProperty(n)){var r="_onChange"+x(n);t[r]&&t.on("change:"+n,t[r])}}function n(){return"widget-"+b++}function r(t){return w(t.events)&&(t.events=t.events()),t.events}function i(t,e){var n=t.match(O),r=n[1]+d+e.cid,i=n[2]||void 0;return i&&i.indexOf("{{")>-1&&(i=o(i,e)),{type:r,selector:i}}function o(t,e){return t.replace(j,function(t,n){for(var r,i=n.split("."),o=e;r=i.shift();)o=o===e.attrs?e.get(r):o[r];return y(o)?o:E})}function a(t){return null==t||void 0===t}var s=t.$,u=t.Class,c=t.Events,f=t.Aspect,l=t.Attrs,h=new u;h.Implements([c,f,l]),h.include({init:function(t){this.initAttrs(t),e(this,this.attrs)},destroy:function(){this.off();for(var t in this)this.hasOwnProperty(t)&&delete this[t];this.destroy=function(){}}});var p={},d=".delegate-events-",v="_onRender",m="data-widget-cid",g=new u(h);g.DEFAULT_PARENT_NODE="body",g.include({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:g.DEFAULT_PARENT_NODE,renderMethod:"appendTo"},init:function(t){this.cid=n(),g.superclass.init.call(this,t),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(t&&t.element)},parseElement:function(){var t=this.element;if(t?this.element=s(t):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw Error("element is invalid")},parseElementFromTemplate:function(){var t,e=this.get("template");/^#/.test(e)&&(t=document.getElementById(e.substring(1)))&&(e=t.innerHTML,this.set("template",e)),this.element=s(e)},initProps:function(){},delegateEvents:function(t,e,n){if(0===arguments.length?(e=r(this),t=this.element):1===arguments.length?(e=t,t=this.element):2===arguments.length?(n=e,e=t,t=this.element):(t||(t=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(s(t))),y(e)&&w(n)){var o={};o[e]=n,e=o}for(var a in e)if(e.hasOwnProperty(a)){var u=i(a,this),c=u.type,f=u.selector;(function(e,n){var r=function(t){w(e)?e.call(n,t):n[e](t)};f?s(t).on(c,f,r):s(t).on(c,r)})(e[a],this)}return this},undelegateEvents:function(t,e){if(e||(e=t,t=null),0===arguments.length){var n=d+this.cid;if(this.element&&this.element.off(n),this._delegateElements)for(var r in this._delegateElements)this._delegateElements.hasOwnProperty(r)&&this._delegateElements[r].off(n)}else{var o=i(e,this);t?s(t).off(o.type,o.selector):this.element&&this.element.off(o.type,o.selector)}return this},$:function(t){return this.element.find(t)},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var t=this.get("parentNode"),e=this.get("relatedNode"),n=e||t,r=this.get("renderMethod");if(n&&!_(this.element[0])){var i=this.constructor.outerBoxClass;if(i){var o=this._outerBox=s("<div></div>").addClass(i);o.append(this.element)[r](n)}else this.element[r](n)}return this},_renderAndBindAttrs:function(){var t=this,e=t.attrs;for(var n in e)if(e.hasOwnProperty(n)){var r=v+x(n);if(this[r]){var i=this.get(n);a(i)||this[r](i,void 0,n),function(e){t.on("change:"+n,function(n,r,i){t[e](n,r,i)})}(r)}}},_onRenderId:function(t){this.element.attr("id",t)},_onRenderClassName:function(t){this.element.addClass(t)},_onRenderStyle:function(t){this.element.css(t)},_stamp:function(){var t=this.cid;(this.initElement||this.element).attr(m,t),p[t]=this},destroy:function(){this.undelegateEvents(),delete p[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,g.superclass.destroy.call(this)}}),t.ready(function(t){s=t.$,s(window).unload(function(){for(var t in p)p[t].destroy()})}),g.query=function(t){var e,n=s(t).eq(0);return n&&(e=n.attr(m)),p[e]};var b=0,y=t.isString,w=t.isFunction,x=t.ucfirst,_=t.isInDocument,O=/^(\S+)\s*(.*)$/,j=/{{([^}]+)}}/g,E="INVALID_SELECTOR";t.Base=h,t.Widget=g,t.createWidget=function(t,e){return e=e||g,new u(e,t)}}(tbtx),function(t){var e=t.$,n=t.Class,r=t.Widget,i=t.singleton;t.ready(function(t){e=t.$});var o=(window.navigator.userAgent||"").toLowerCase(),a=-1!==o.indexOf("msie 6"),s=new n(r,{attrs:{type:"",msg:"",duration:200,template:"<p></p>",className:"tbtx-msg-item"},render:function(){s.superclass.render.apply(this,arguments);var t=this.element.width();return this.element.css({left:-t,opacity:0}).animate({left:0,opacity:1},this.get("duration")),this},_onRenderType:function(t){this.element.addClass("tbtx-msg-"+t)},_onRenderMsg:function(t){this.element.html(t)},destroy:function(){var t=this.element.width(),e=this;this.element.animate({left:-t,opacity:0},this.get("duration"),function(){s.superclass.destroy.call(e)})}}),u=new n(r,{attrs:{items:{value:"p",getter:function(t){return this.$(t)}},last:1e4},events:{"click p":"_removeHandler"},add:function(t,e){var n=this.get("items");n.length>10&&this.remove(n.first());var r=new s({msg:t,type:e,parentNode:this.element}).render(),i=this;setTimeout(function(){i.remove(r.element)},this.get("last"))},remove:function(t){var e=r.query(t);e&&e.destroy()},_removeHandler:function(t){this.remove(e(t.target))}}),c=function(e){t.pin({element:e,x:0,y:"100%+24"},{element:t.VIEWPORT,x:0,y:"100%"})},f=i(function(){t.loadCss("base/css/msg.css");var e=new u({id:"tbtx-msg"}).render();return a&&(c(e.element),t.on("window.scroll window.resize",function(){e.get("items").length&&c(e.element)})),e}),l=t.MSG={},h="warning error info debug success".split(" ");t.each(h,function(e){t[e]=l[e]=function(t){f().add(t,e)}});var p,d=i(function(){return t.loadCss("base/css/msg.css"),e(t.substitute('<div class="tbtx-broadcast">{{ msg }}</div>')).appendTo("body")});t.broadcast=function(n,r,i){if(i=i||"center",r=r||4e3,p&&p.cancel(),!n)return e(".tbtx-broadcast").hide(),void 0;var o=d().html(n);"center"==i?t.center(o):t.pin({element:o,x:"50%",y:"top"==i?-60:"100%+60"},{element:t.VIEWPORT,x:"50%",y:"top"==i?0:"100%"}),o.fadeIn(),r>0&&(p=t.later(function(){o.fadeOut()},r,!1))}}(tbtx),function(t){var e=t.parseUrl();e.query=t.getQueryParam(),t.data("urlInfo",e);var n=e.scheme+"://"+e.domain;e.port&&(n+=":"+e.port),/^http/i.test(n)||(n="");var r={getuserinfo:"/interface/getuserinfo.htm",getlogininfo:"/interface/getlogininfo.htm",taobao_login_page:"/applogin.htm",login:"/applogin.htm?ref="+encodeURIComponent(location.href)};t.mix({ROOT:n,path:r})}(tbtx),function(t){var e=t.$,n=t.isPending,r=t.path,i=1e4;t.ready(function(t){e=t.$});var o,a=function(){var e=(""+Math.random()).substr(2)+(""+(new Date).getTime()).substr(1)+(""+Math.random()).substr(2);return t.cookie.set("MIIEE_JTOKEN",e,"","","/"),e},s=function(n,a,s){return o?o.done(n).fail(a):(o=e.Deferred(),e.ajax({type:"POST",url:s?r.getlogininfo:r.getuserinfo,dataType:"json",data:{},timeout:i}).done(function(e){var n=e.result&&e.result.data,r=e.code;601==r?o.reject():t.inArray([100,608,1e3],r)&&(t.data("user",n),t.data("userName",n.trueName?n.trueName:n.userNick),o.resolve(n))}).fail(function(){o.reject()}),o.done(n).fail(a).fail(function(){e(".J-login").attr({href:r.login,target:"_self"})}),o.promise())},u={miiee:{appkey:"2328604005",uid:"1644022571"},brand:{appkey:"2328604005",uid:"2140361617"},tbtx:{appkey:"2328604005",uid:"1644022571"},maijia:{uid:"1771650130"}},c=function(t,n,r,i,o,a){a=a||"",o=o||"miiee",i=i||"",r=r||window.location.href,n=n||e('meta[name="description"]').attr("content");var s="http://v.t.sina.com.cn/share/share.php?",c={appkey:u[o].appkey||"",url:r,title:n,ralateUid:a||u[o].uid,pic:i},f=s+e.param(c);e(t).attr({href:f,target:"_blank"})},f=-1,l={code:f,msg:"请求失败！请检查网络连接！"},h=-2,p={},d=function(r,o,s){s=s||d.successCode||[100],o=o||{},"object"!=typeof o||o.jtoken||(o.jtoken=a());var u=p[r];return u&&n(u)?(u.notify(h),u.promise()):(u=p[r]=e.Deferred(),e.ajax({url:r,type:"post",dataType:"json",data:o,timeout:i}).done(function(e){var n=e&&e.code;t.inArray(s,n)?u.resolve(e):u.reject(n,e)}).fail(function(){u.reject(f,l)}),u.promise())};t.mix({miieeJSToken:a,userCheck:s,initMiiee:function(){return t.loadScript(["miiee/js/m.js","miiee/js/base.js"])},Request:d,bingo:function(e,n){if(e>n)return!1;n=n||100;var r=t.choice(1,n+1);return e>=r?!0:!1},shareToSinaWB:c,addToFavourite:function(e,n){n=n||document.location.href,e=e||document.title;var r=function(){t.MSG.info("按下 "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+" + D 来收藏本页.")};try{window.external.AddFavorite(n,e)}catch(i){try{window.sidebar.addPanel(e,n,"")}catch(o){if("object"==typeof opera)return r(),!0;r()}}},loadTanx:function(t,n){e(t).each(function(t,r){var i=e(r),o=i.data(),a=o.tanxid||n;if(a){i.empty().append('<a style="display:none!important" id="tanx-a-mm_'+a+'"></a>');var s=document.createElement("script");s.type="text/javascript",s.charset="gbk",s.id="tanx-s-mm_"+a,s.async=!0,s.src="http://p.tanx.com/ex?i=mm_"+a;var u=document.getElementsByTagName("head")[0];u&&u.insertBefore(s,u.firstChild)}})}})}(tbtx);