!function(a,b){var c=0;a[b]={log:function(b,c,d){return d&&(b=d+": "+b),void 0!==a.console&&console.log&&console[c&&console[c]?c:"log"](b),this},debug:!1,staticUrl:"http://static.tianxia.taobao.com/tbtx",global:a,_tbtx:a[b],_data:jQuery({}),data:function(){return this._data.data.apply(this._data,arguments)},removeData:function(){return this._data.removeData.apply(this._data,arguments)},noop:function(){},uniqueCid:function(){return c++}}}(this,"tbtx"),function(a,b,c){function d(a,b){return l.hasOwnProperty.call(a,b)}function e(){}function f(a){v(a)||(a=[a]);for(var b=this.prototype||this,c=a.shift();c;)ab(b,c.prototype||c,["prototype"]),c=a.shift();return this}function g(a){return a.Implements=f,a}var h,i,j=Array.prototype,k=j.forEach,l=Object.prototype,m=l.toString,n=!1,o=!0,p="",q={},r=function(a){return null===a?String(a):q[m.call(a)]||"object"},s=function(a,b,d){if(a){if(k&&a.forEach===k)return a.forEach(b,d),void 0;var e,f,g,h=0,i=a.length,j=i===c||"function"==r(a);if(d=d||null,j)for(g=C(a);h<g.length&&(e=g[h],b.call(d,a[e],e,a)!==n);h++);else for(f=a[0];i>h&&b.call(d,f,h,a)!==n;f=a[++h]);}return a},t=function(a){return"string"===r(a)},u=function(a){return t(a)&&""!==a},v=Array.isArray||function(a){return"array"===r(a)},w=function(a,b){return x(a,b)>-1},x=j.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){var c;if(t(a)){for(c=0;c<a.length;c++)if(a.charAt(c)===b)return c}else for(c=0;c<a.length;c++)if(a[c]===b)return c;return-1},y=j.filter?function(a,b,c){return j.filter.call(a,b,c)}:function(a,b,c){var d=[];return s(a,function(e,f){b.call(c||this,e,f,a)&&d.push(e)}),d},z=j.map?function(a,b,c){return j.map.call(a,b,c||this)}:function(a,b,c){for(var d=a.length,e=new Array(d),f=0;d>f;f++){var g="string"==typeof a?a.charAt(f):a[f];(g||f in a)&&(e[f]=b.call(c||this,g,f,a))}return e},A=!{toString:1}.propertyIsEnumerable("toString"),B=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],C=Object.keys?function(a){return Object.keys(a)}:function(a){var b,c,d=[];for(b in a)d.push(b);if(A)for(c=B.length-1;c>=0;c--)b=B[c],a.hasOwnProperty(b)&&result.push(b);return d},D=function(a){if(!a||"object"!==r(a)||a.nodeType||a.window==a)return n;var b,e;try{if((e=a.constructor)&&!d(a,"constructor")&&!d(e.prototype,"isPrototypeOf"))return n}catch(f){return n}for(b in a);return b===c||d(a,b)},E=function(a){if(null===a)return[];if(v(a))return a;var b=typeof a.length,c=typeof a;if("number"!==b||a.alert||"string"===c||"function"===c&&!("item"in a&&"number"===b))return[a];for(var d=[],e=0,f=a.length;f>e;e++)d[e]=a[e];return d},F=function(a){if(!a||"object"!=typeof a)return a;var b,c=a.constructor===Array?[]:{};for(b in a)a.hasOwnProperty(b)&&(c[b]="object"==typeof a[b]?F(a[b]):a[b]);return c},G=function(){var b,c,d,e=E(arguments),f=e.length,g=this;for(b=0;f>b;b++)for(d=(p+e[b]).split("."),c=a[d[0]]===g?1:0;c<d.length;++c)g=g[d[c]]=g[d[c]]||{};return g},H=function(a,b){return 0===a.lastIndexOf(b,0)},I=function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)==c},J=function(a,b){var c,d,e;return v(a)&&(c=a,a=0,b=c.length),a>b&&(e=a,a=b,b=e),d=Math.floor(Math.random()*(b-a)+a),c?c[d]:d},K=function(a){if(!v(a))return[];var b,c,d=a.length,e=d;if(0===d)return[];for(;e>1;)e-=1,c=J(0,e),b=a[e],a[e]=a[c],a[c]=b;return a},L=function(a,c){b.isFunction(a)||(c=a,a=null),c=c||{};var d=function(){a&&a.apply(this,arguments),this.constructor===d&&this.init&&this.init.apply(this,arguments)};if(a){var e=_(a.prototype);ab(e,d.prototype),d.prototype=e,d.superclass=a.prototype}return d.fn=d.prototype,d.fn.constructor=d,ab(d,L.Mutators),d.fn.proxy=d.proxy,d.include(c)},M=Date.now||function(){return+new Date},N=function(a,b,c){if(b=b||100,-1===b)return function(){a.apply(c||this,arguments)};var d=M();return function(){var e=M();e-d>b&&(d=e,a.apply(c||this,arguments))}},O=function(a){var b=[].slice,c=b.call(arguments,1);return function(){var d=b.call(arguments),e=c.concat(d);return a.apply(null,e)}},P=function(a,b,d){return t(a)?D(b)||v(b)?a.replace(d||/\\?\{\{\s*([^{}\s]+)\s*\}\}/g,function(a,d){return"\\"===a.charAt(0)?a.slice(1):b[d]===c?"":b[d]}):a:a},Q=function(a,d,e){if(!t(a))return{};d=d||"&",e=e||"=";for(var f,g,h,i={},j=decodeURIComponent,k=a.split(d),l=0,m=k.length;m>l;++l){if(f=x(k[l],e),-1==f)g=j(k[l]),h=c;else{g=j(k[l].substring(0,f)),h=k[l].substring(f+1);try{h=j(h)}catch(n){b.log(n+"decodeURIComponent error : "+h,"error")}}i[g]=h}return i},R=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),S=function(a){a=a||location.href;var b={};if(!t(a))return b;var c=R.exec(a);return c?{scheme:c[1],credentials:c[2],domain:c[3],port:c[4],path:c[5],query:c[6],fragment:c[7]}:b},T=function(a){a=a||location.href;var b=R.exec(a);return b[7]||""},U=function(a,c){b.isUri(a)&&(c=a,a=""),c=c||location.href;var d=R.exec(c),e=Q(d[6]);return a?e[a]||"":e},V={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},W={},X=function(){if(h)return h;var a=p;return s(V,function(b){a+=b+"|"}),a=a.slice(0,-1),h=new RegExp(a,"g")},Y=function(){if(i)return i;var a=p;return s(W,function(b){a+=b+"|"}),a+="&#(\\d{1,5});",i=new RegExp(a,"g")},Z=function(a){return String(a).replace(X(),function(a){return W[a]})},$=function(a){return String(a).replace(Y(),function(a){return V[a]})};!function(){for(var a in V)W[V[a]]=a}(),s("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){q["[object "+a+"]"]=c=a.toLowerCase(),b["is"+a]=function(a){return r(a)===c}}),b.isArray=Array.isArray||b.isArray;var _=Object.__proto__?function(a){return{__proto__:a}}:function(a){return e.prototype=a,new e};L.Mutators={extend:function(a){var b=a.extended;return ab(this,a,["extended"]),b&&b(this),this},include:function(a){var b=a.included;return ab(this.prototype,a,["included"]),b&&b(this),this},proxy:function(a){var b=this;return function(){return a.apply(b,arguments)}},Implements:f};var ab=b.mix=function(a,b,c,d){var e;if(!a||a===b)return a;b||(b=a,a=this),c||(c=[]),d||(d=!0);for(e in b)w(c,e)||!d&&e in a||(a[e]=b[e]);return a};b.mix({mix:ab,classify:g,isNotEmptyString:u,isPending:function(a){return a?a.resolve&&a.promise?"pending"===a.state():n:n},isUri:function(a){var b;return t(a)&&(b=R.exec(a),b&&b[1])?o:n},singleton:function(a,b){var c;return function(){return c||(c=a.apply(b,arguments))}},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},lcfirst:function(a){return a.charAt(0).toLowerCase()+a.substring(1)},later:function(a,c,d,e,f){c=c||0;var g,h,i=a,j=E(f);return"string"==typeof a&&(i=e[a]),i||b.error("method undefined"),g=function(){i.apply(e,j)},h=d?setInterval(g,c):setTimeout(g,c),{id:h,interval:d,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},inArray:w,type:r,each:s,indexOf:x,filter:y,map:z,unique:function(a){var b,c=[],d={};for(b=0;b<a.length;b++){var e=a[b],f=typeof e+e;1!==d[f]&&(c.push(e),d[f]=1)}return c},keys:C,makeArray:E,deepCopy:F,namespace:G,startsWith:H,endsWith:I,choice:J,shuffle:K,Class:L,Now:M,throttle:N,curry:O,substitute:P,unparam:Q,parseUrl:S,getFragment:T,getQueryParam:U,escapeHtml:Z,unEscapeHtml:$})}(this,tbtx,void 0),function(a){function b(){}function c(a,b,c,d){var e;if(a)for(var f=0,g=a.length;g>f;f+=2)e=a[f].apply(a[f+1]||c,b),e===!1&&d.status&&(d.status=!1)}var d=/\s+/;b.prototype.on=function(a,b,c){var e,f,g;if(!b)return this;for(e=this.__events||(this.__events={}),a=a.split(d);f=a.shift();)g=e[f]||(e[f]=[]),g.push(b,c);return this},b.prototype.off=function(a,b,c){var f,g,h,i;if(!(f=this.__events))return this;if(!(a||b||c))return delete this.__events,this;for(a=a?a.split(d):e(f);g=a.shift();)if(h=f[g])if(b||c)for(i=h.length-2;i>=0;i-=2)b&&h[i]!==b||c&&h[i+1]!==c||h.splice(i,2);else delete f[g];return this},b.prototype.trigger=function(a){var b,e,f,g,h,i,j=[],k={status:!0};if(!(b=this.__events))return this;for(a=a.split(d),h=1,i=arguments.length;i>h;h++)j[h-1]=arguments[h];for(;e=a.shift();)(f=b.all)&&(f=f.slice()),(g=b[e])&&(g=g.slice()),c(g,j,this,k),c(f,[e].concat(j),this,k);return k.status},b.mixTo=function(a){a=a.prototype||a;var c=b.prototype;for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};var e=Object.keys;e||(e=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),a.Events=b,b.mixTo(a)}(tbtx),function(a){function b(a,b,e,g){for(var h,i,j=b.split(f);h=j.shift();)i=c(this,h),i.__isAspected||d.call(this,h),this.on(a+":"+h,e,g);return this}function c(a,b){var c=a[b];if(!c)throw new Error("Invalid method name: "+b);return c}function d(a){var b=this[a];this[a]=function(){var c=Array.prototype.slice.call(arguments),d=["before:"+a].concat(c);if(this.trigger.apply(this,d)!==!1){var e=b.apply(this,arguments),f=["after:"+a,e].concat(c);return this.trigger.apply(this,f),e}},this[a].__isAspected=!0}var e=a.namespace("Aspect");e.before=function(a,c,d){return b.call(this,"before",a,c,d)},e.after=function(a,c,d){return b.call(this,"after",a,c,d)};var f=/\s+/}(tbtx),function(a){function b(a){return"[object String]"===t.call(a)}function c(a){return"[object Function]"===t.call(a)}function d(a){return null!=a&&a==a.window}function e(a){if(!a||"[object Object]"!==t.call(a)||a.nodeType||d(a))return!1;try{if(a.constructor&&!u.call(a,"constructor")&&!u.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;if(s)for(c in a)return u.call(a,c);for(c in a);return void 0===c||u.call(a,c)}function f(a){if(!a||"[object Object]"!==t.call(a)||a.nodeType||d(a)||!a.hasOwnProperty)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function g(a,b){var c,d;for(c in b)if(b.hasOwnProperty(c)){if(d=b[c],v(d))d=d.slice();else if(e(d)){var f=a[c];e(f)||(f={}),d=g(f,d)}a[c]=d}return a}function h(a,b,c){for(var d=[],e=b.constructor.prototype;e;)e.hasOwnProperty("attrs")||(e.attrs={}),j(c,e.attrs,e),f(e.attrs)||d.unshift(e.attrs),e=e.constructor.superclass;for(var h=0,i=d.length;i>h;h++)g(a,n(d[h]))}function i(a,b){g(a,n(b,!0))}function j(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function k(a,b){for(var d in b)if(b.hasOwnProperty(d)){var e,f=b[d].value;c(f)&&(e=d.match(x))&&(a[e[1]](l(e[2]),f),delete b[d])}}function l(a){var b=a.match(y),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function m(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e],d);delete a.__initializingAttrs}function n(a,b){var c={};for(var d in a){var f=a[d];c[d]=!b&&e(f)&&o(f,z)?f:{value:f}}return c}function o(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function p(a){return null==a||(b(a)||v(a))&&0===a.length||f(a)}function q(a,b){if(a===b)return!0;if(p(a)&&p(b))return!0;var c=t.call(a);if(c!=t.call(b))return!1;switch(c){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;case"[object Array]":var d=a.toString(),f=b.toString();return-1===d.indexOf("[object")&&-1===f.indexOf("[object")&&d===f}if("object"!=typeof a||"object"!=typeof b)return!1;if(e(a)&&e(b)){if(!q(w(a),w(b)))return!1;for(var g in a)if(a[g]!==b[g])return!1;return!0}return!1}var r=a.namespace("Attrs");r.initAttrs=function(a){var b=this.attrs={},c=this.propsInAttrs||[];h(b,this,c),a&&i(b,a),m(this,b,a),k(this,b),j(c,this,b,!0)},r.get=function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},r.set=function(a,c,d){var f={};b(a)?f[a]=c:(f=a,d=c),d||(d={});var h=d.silent,i=d.override,j=this.attrs,k=this.__changedAttrs||(this.__changedAttrs={});for(a in f)if(f.hasOwnProperty(a)){var l=j[a]||(j[a]={});if(c=f[a],l.readOnly)throw new Error("This attribute is readOnly: "+a);l.setter&&(c=l.setter.call(this,c,a));var m=this.get(a);!i&&e(m)&&e(c)&&(c=g(g({},m),c)),j[a].value=c,this.__initializingAttrs||q(m,c)||(h?k[a]=[c,m]:this.trigger("change:"+a,c,m,a))}return this},r.change=function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this},r._isPlainObject=e;var s,t=Object.prototype.toString,u=Object.prototype.hasOwnProperty;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);s="x"!==b[0]}();var v=Array.isArray||function(a){return"[object Array]"===t.call(a)},w=Object.keys;w||(w=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var x=/^(on|before|after)([A-Z].*)$/,y=/^(Change)?([A-Z])(.*)/,z=["value","getter","setter","readOnly"]}(tbtx),function(a,b){function c(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="_onChange"+h(c);a[d]&&a.on("change:"+c,a[d])}}function d(){return"widget-"+w++}function e(a){return"[object String]"===x.call(a)}function f(a){return"[object Function]"===x.call(a)}function g(a){return y(document.documentElement,a)}function h(a){return a.charAt(0).toUpperCase()+a.substring(1)}function i(a){return f(a.events)&&(a.events=a.events()),a.events}function j(a,b){var c=a.match(z),d=c[1]+s+b.cid,e=c[2]||void 0;return e&&e.indexOf("{{")>-1&&(e=k(e,b)),{type:d,selector:e}}function k(a,b){return a.replace(A,function(a,c){for(var d,f=c.split("."),g=b;d=f.shift();)g=g===b.attrs?b.get(d):g[d];return e(g)?g:B})}function l(a){return null==a||void 0===a}var m=b.Class,n=b.Events,o=b.Aspect,p=b.Attrs,q=new m;q.Implements([n,o,p]),q.include({init:function(a){this.initAttrs(a),c(this,this.attrs)},destroy:function(){this.off();for(var a in this)this.hasOwnProperty(a)&&delete this[a];this.destroy=function(){}}});var r={},s=".delegate-events-",t="_onRender",u="data-widget-cid",v=new m(q);v.DEFAULT_PARENT_NODE="body",v.include({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:v.DEFAULT_PARENT_NODE,renderMethod:"appendTo"},init:function(a){this.cid=d(),v.superclass.init.call(this,a),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(a&&a.element)},parseElement:function(){var b=this.element;if(b?this.element=a(b):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){var b,c=this.get("template");/^#/.test(c)&&(b=document.getElementById(c.substring(1)))&&(c=b.innerHTML,this.set("template",c)),this.element=a(c)},initProps:function(){},delegateEvents:function(b,c,d){if(0===arguments.length?(c=i(this),b=this.element):1===arguments.length?(c=b,b=this.element):2===arguments.length?(d=c,c=b,b=this.element):(b||(b=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(a(b))),e(c)&&f(d)){var g={};g[c]=d,c=g}for(var h in c)if(c.hasOwnProperty(h)){var k=j(h,this),l=k.type,m=k.selector;!function(c,d){var e=function(a){f(c)?c.call(d,a):d[c](a)};m?a(b).on(l,m,e):a(b).on(l,e)}(c[h],this)}return this},undelegateEvents:function(b,c){if(c||(c=b,b=null),0===arguments.length){var d=s+this.cid;if(this.element&&this.element.off(d),this._delegateElements)for(var e in this._delegateElements)this._delegateElements.hasOwnProperty(e)&&this._delegateElements[e].off(d)}else{var f=j(c,this);b?a(b).off(f.type,f.selector):this.element&&this.element.off(f.type,f.selector)}return this},$:function(a){return this.element.find(a)},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var b=this.get("parentNode"),c=this.get("relatedNode"),d=c||b,e=this.get("renderMethod");if(d&&!g(this.element[0])){var f=this.constructor.outerBoxClass;if(f){var h=this._outerBox=a("<div></div>").addClass(f);h.append(this.element)[e](d)}else this.element[e](d)}return this},_renderAndBindAttrs:function(){var a=this,b=a.attrs;for(var c in b)if(b.hasOwnProperty(c)){var d=t+h(c);if(this[d]){var e=this.get(c);l(e)||this[d](e,void 0,c),function(b){a.on("change:"+c,function(c,d,e){a[b](c,d,e)})}(d)}}},_onRenderId:function(a){this.element.attr("id",a)},_onRenderClassName:function(a){this.element.addClass(a)},_onRenderStyle:function(a){this.element.css(a)},_stamp:function(){var a=this.cid;(this.initElement||this.element).attr(u,a),r[a]=this},destroy:function(){this.undelegateEvents(),delete r[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,v.superclass.destroy.call(this)}}),a(window).unload(function(){for(var a in r)r[a].destroy()}),v.query=function(b){var c,d=a(b).eq(0);return d&&(c=d.attr(u)),r[c]};var w=0,x=Object.prototype.toString,y=a.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},z=/^(\S+)\s*(.*)$/,A=/{{([^}]+)}}/g,B="INVALID_SELECTOR";b.Base=q,b.Widget=v}(jQuery,tbtx),function(a){var b=Object.prototype.toString,c=function(a){return"[object String]"===b.call(a)},d=function(a){return c(a)&&""!==a},e=document,f=864e5,g=encodeURIComponent,h=decodeURIComponent,i={get:function(a){var b,c;return d(a)&&(c=String(e.cookie).match(new RegExp("(?:^| )"+a+"(?:(?:=([^;]*))|;|$)")))&&(b=c[1]?h(c[1]):""),b},set:function(a,b,c,h,i,j){var k=String(g(b)),l=h;return"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+h*f)),l instanceof Date&&(k+="; expires="+l.toUTCString()),d(c)&&(k+="; domain="+c),d(i)&&(k+="; path="+i),j&&(k+="; secure"),e.cookie=a+"="+k,this},remove:function(a,b,c,d){return this.set(a,"",b,-1,c,d),this}};a.cookie=i}(tbtx),function(a){function b(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function c(a,b){a=a||"Y-m-d h:i:s";var c,e=d(b),f=a;for(c in e)f=f.replace(c,e[c]);return f}function d(a){a=f(a);var b,c={Y:a.getFullYear(),M:a.getMonth()+1,D:a.getDate(),H:a.getHours(),I:a.getMinutes(),S:a.getSeconds()},d={};for(b in c)d[b]=c[b];var e;for(b in c)e=b.toLowerCase(),d[e]="y"==e?c[b].toString().substring(2,4):c[b]<10?"0"+c[b]:c[b];return d}function e(a,b){a=f(a),b=f(b);var c;b>a&&(c=a,a=b,b=c);var d=Math.floor,e=(a.getTime()-b.getTime())/1e3,g=d(e/i),h=d(g/30),j=d(g/365);return j?j+"年前":h?h+"个月前":g?1==g?"昨天":g+"天前":60>e&&"刚刚"||3600>e&&d(e/60)+"分钟前"||i>e&&d(e/3600)+"小时前"}function f(a){if(h(a))return a;var b=typeof a;return"number"==b||"string"==b?new Date(a):new Date}function g(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}var h=b("Date"),i=86400;g(a,{normalizeDate:d,ago:e,formatDate:c})}(tbtx),function(a){function b(a){return Object.prototype.toString.call(a)}function c(a){return"[object Object]"===b(a)}function d(a){return"[object Function]"===b(a)}function e(a,b){for(var c=0,d=a.length;d>c&&b.call(a,a[c],c)!==!1;c++);}function f(a){if(!q.test(a))return null;var b,c,d,e,f;if(-1!==a.indexOf("trident/")&&(b=/\btrident\/([0-9.]+)/.exec(a),b&&b.length>=2)){d=b[1];var g=b[1].split(".");g[0]=parseInt(g[0],10)+4,f=g.join(".")}b=q.exec(a),e=b[1];var h=b[1].split(".");return"undefined"==typeof f&&(f=e),h[0]=parseInt(h[0],10)-4,c=h.join("."),"undefined"==typeof d&&(d=c),{browserVersion:f,browserMode:e,engineVersion:d,engineMode:c,compatible:d!==c}}function g(a){if(p)try{var b=p.twGetRunPath.toLowerCase(),c=p.twGetSecurityID(window),d=p.twGetVersion(c);if(b&&-1===b.indexOf(a))return!1;if(d)return{version:d}}catch(e){}}function h(a,e,f){var g=d(e)?e.call(null,f):e;if(!g)return null;var h={name:a,version:l,codename:""},i=b(g);if(g===!0)return h;if("[object String]"===i){if(-1!==f.indexOf(g))return h}else{if(c(g))return g.hasOwnProperty("version")&&(h.version=g.version),h;if(g.exec){var j=g.exec(f);if(j)return h.version=j.length>=2&&j[1]?j[1].replace(/_/g,"."):l,h}}}function i(a,b,c,d){var f=v;e(b,function(b){var c=h(b[0],b[1],a);return c?(f=c,!1):void 0}),c.call(d,f.name,f.version)}function j(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}var k={},l="-1",m=navigator.userAgent||"",n=navigator.appVersion||"",o=navigator.vendor||"",p=window.external,q=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,r=[["nokia",function(a){return-1!==a.indexOf("nokia ")?/\bnokia ([0-9]+)?/:-1!==a.indexOf("noain")?/\bnoain ([a-z0-9]+)/:/\bnokia([a-z0-9]+)?/}],["samsung",function(a){return-1!==a.indexOf("samsung")?/\bsamsung(?:\-gt)?[ \-]([a-z0-9\-]+)/:/\b(?:gt|sch)[ \-]([a-z0-9\-]+)/}],["wp",function(a){return-1!==a.indexOf("windows phone ")||-1!==a.indexOf("xblwp")||-1!==a.indexOf("zunewp")||-1!==a.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build))/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",/\b(?:meizu\/|m)([0-9]+)\b/],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(a){return-1!==a.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(a){return-1!==a.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(a){return/\bzte\-[tu]/.test(a)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo ([a-z0-9]+)/],["htc",function(a){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(a)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android","android"],["blackberry","blackberry"]],s=[["wp",function(a){return-1!==a.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==a.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==a.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(a){return/\bcpu(?: iphone)? os /.test(a)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==a.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["meego",/\bmeego\b/],["blackberry","blackberry"]],t=[["trident",q],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",/\bgecko\/(\d+)/],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/]],u=[["sg",/ se ([0-9.x]+)/],["tw",function(){var a=g("theworld");return"undefined"!=typeof a?a:"theworld"}],["360",function(a){var b=g("360se");return"undefined"!=typeof b?b:-1!==a.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["mx",function(){try{if(p&&(p.mxVersion||p.max_version))return{version:p.mxVersion||p.max_version}}catch(a){}return/\bmaxthon(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["lb",function(a){if(-1===a.indexOf("lbbrowser"))return!1;var b;try{p&&p.LiebaoGetVersion&&(b=p.LiebaoGetVersion())}catch(c){}return{version:b||l}}],["tao",/\btaobrowser\/([0-9.]+)/],["fs",/\bcoolnovo\/([0-9.]+)/],["sy","saayaa"],["baidu",/\bbidubrowser[ \/]([0-9.x]+)/],["ie",q],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(a){var b=/\bopera.+version\/([0-9.ab]+)/,c=/\bopr\/([0-9.]+)/;return b.test(a)?b:c}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(a){return a.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(a)?/\buc\/([0-9.]+)/:a.indexOf("ucweb")>=0?/\bucweb[\/]?([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["android",function(a){return-1!==a.indexOf("android")?/\bversion\/([0-9.]+(?: beta)?)/:void 0}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],v={name:"na",version:l},w=function(a){a=(a||"").toLowerCase();var b={};i(a,r,function(a,c){var d=parseFloat(c);b.device={name:a,version:d,fullVersion:c},b.device[a]=d},b),i(a,s,function(a,c){var d=parseFloat(c);b.os={name:a,version:d,fullVersion:c},b.os[a]=d},b);var c=f(a);return i(a,t,function(a,d){var e=d;c&&(d=c.engineVersion||c.engineMode,e=c.engineMode);var f=parseFloat(d);b.engine={name:a,version:f,fullVersion:d,mode:parseFloat(e),fullMode:e,compatible:c?c.compatible:!1},b.engine[a]=f},b),i(a,u,function(a,d){var e=d;c&&("ie"===a&&(d=c.browserVersion),e=c.browserMode);var f=parseFloat(d);b.browser={name:a,version:f,fullVersion:d,mode:parseFloat(e),fullMode:e,compatible:c?c.compatible:!1},b.browser[a]=f},b),b};k=w(m+" "+n+" "+o),k.parse=w;var x=/(iPod|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian)/g,y=function(a){var b=x.exec(a);return b?b[1]:""};k.mobile=y(m),j(a,{detector:k,decideMobile:y,isIE6:k.browser.ie&&6==k.browser.version,isMobile:!!k.mobile})}(tbtx),function(a,b){function c(b){b=h(b)||{},b.nodeType&&(b={element:b});var c=h(b.element)||k;if(1!==c.nodeType)throw new Error("posObject.element is invalid.");var d={element:c,x:b.x||0,y:b.y||0},e=c===k||"VIEWPORT"===c._id;return d.offset=function(){return l?{left:0,top:0}:e?{left:a(document).scrollLeft(),top:a(document).scrollTop()}:i(a(c)[0])},d.size=function(){var b=e?a(window):a(c);return{width:b.outerWidth(),height:b.outerHeight()}},d}function d(a){a.x=e(a.x,a,"width"),a.y=e(a.y,a,"height")}function e(a,b,c){if(a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==a.indexOf("%")&&(a=a.replace(/(\d+(?:\.\d+)?)%/gi,function(a,d){return b.size()[c]*(d/100)})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(d){throw new Error("Invalid position value: "+a)}return g(a)}function f(b){var c=b.offsetParent();c[0]===document.documentElement&&(c=a(document.body)),n&&c.css("zoom",1);var d;return d=c[0]===document.body&&"static"===c.css("position")?{top:0,left:0}:i(c[0]),d.top+=g(c.css("border-top-width")),d.left+=g(c.css("border-left-width")),d}function g(a){return parseFloat(a,10)||0}function h(b){return a(b)[0]}function i(a){var b=a.getBoundingClientRect(),c=document.documentElement;return{left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||document.body.clientLeft||0),top:b.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||document.body.clientTop||0)}}var j=b,k={_id:"VIEWPORT",nodeType:1},l=!1,m=(window.navigator.userAgent||"").toLowerCase(),n=-1!==m.indexOf("msie 6");j.pin=function(b,e){b=c(b),e=c(e);var g=a(b.element);"fixed"!==g.css("position")||n?(g.css("position","absolute"),l=!1):l=!0,d(b),d(e);var h=f(g),i=e.offset(),j=i.top+e.y-b.y-h.top,k=i.left+e.x-b.x-h.left;g.css({left:k,top:j})},j.center=function(a,b){j.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},j.VIEWPORT=k}(jQuery,tbtx),function(a,b,c){function d(a,c,d){if(B[a])return B[a].done(c),B[a].promise();B[a]=b.Deferred(),B[a].done(c);var f=y.test(a),g=u.createElement(f?"link":"script");if(d){var h=t(d)?d(a):d;h&&(g.charset=h)}return e(g,c,f,a),f?(g.rel="stylesheet",g.href=a):(g.async=!0,g.src=a),l=g,x?w.insertBefore(g,x):w.appendChild(g),l=null,B[a].promise()}function e(a,b,c,d){var e=c&&(A||!("onload"in a));return e?(setTimeout(function(){f(a,b,d)},1),void 0):(a.onload=a.onerror=a.onreadystatechange=function(){z.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,c||w.removeChild(a),a=null,C[d]?B[d].resolve(C[d],m):B[d].resolve())},void 0)}function f(a,b){var c,d=a.sheet;if(A)d&&(c=!0);else if(d)try{d.cssRules&&(c=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(c=!0)}setTimeout(function(){c?B[url].resolve():f(a,b)},20)}function g(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function h(a){return D.test(a)||(a=c.staticUrl+"/"+a),a}function i(a,b,c){return a=h(a),d(a,b,c)}function j(a,b,c){if(s(a)){var e,f=a.length;return a=o(a,function(a){return h(a)}),n(a,function(b,g){f-1>g&&(C[b]=a[g+1]),e=e?e.then(d):d(b,m,c)}),e.then(b)}return d(h(a),b,c)}function k(){for(var a,b,c=u.scripts,d=c.length-1;d>=0;d--)if(a=c[d],b=g(a),b&&/tbtx\.(min\.)?js/.test(b))return b;return null}var l,m=c.noop,n=c.each,o=c.map,p=c.ucfirst,q=(c.startsWith,c.singleton),r=c.throttle,s=c.isArray,t=c.isFunction,u=document,v=u.documentElement,w=u.head||u.getElementsByTagName("head")[0]||v,x=w.getElementsByTagName("base")[0],y=/\.css(?:\?|$)/i,z=/^(?:loaded|complete|undefined)$/,A=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,B={},C={},D=/^(http|file)/i,E=k();if(E){var F=E.split("/"),G=3;F.splice(F.length-G,G),c.staticUrl=F.join("/")}var H=[["window",function(){return b(window)}],["document",function(){return b(u)}],["head",function(){return b(w)}],["body",function(){return b("body")}]];n(H,function(a){c["get"+p(a[0])]=q(a[1])});var I=c.getDocument,J=c.getWindow,K=function(){return I().height()},L=function(){return I().width()},M=function(){return J().scrollLeft()},N=function(){return J().scrollTop()},O=function(){return J().height()},P=function(){return J().width()},Q=function(a){return b(a).css({width:P(),height:O()})},R=function(a){return b(a).css({width:L(),height:K()})},S=q(function(){var a=document.body;return/msie [67]/.test(navigator.userAgent.toLowerCase())&&(a=document.documentElement),b(a)}),T=function(){return S().css("overflow","hidden"),this},U=function(){return S().css("overflow","auto"),this},V=b.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},W=function(a){return V(v,a)},X=function(a,d){d=d||0;var e=b(a),f=c.viewportHeight(),g=c.scrollY();("center"==d||"number"!=typeof d)&&(d=(f-e.innerHeight())/2);var h=g,i=h+f,j=e.offset().top+d;return j>h&&i>j},Y=function(a){var c;if("number"==typeof a)c=a;else{var d=b(a),e=d.offset().top;c=e-(O()-d.innerHeight())/2}return b("body,html").animate({scrollTop:c},800),this},Z=function(a,c,d){var e=b(a);return d=d||"...",c=c||"data-max",e.each(function(){var a=b(this),e=parseInt(a.attr(c),10),f=b.trim(a.text());f.length<=e||(f=f.slice(0,e-d.length)+d,a.text(f))}),this},$=function(a,c,d){var e=b(a);return d=d||"#FFF",c=c||"#FF9",e.each(function(a,e){var f=b(e);f.css("background-color",c).fadeOut("fast",function(){f.fadeIn("fast",function(){f.css("background-color",d)})})}),this},_=function(a){var d=b(a),e=d.data("offset");e&&c.on("window.scroll",function(a){a>e?d.fadeIn():d.fadeOut()});var f=d.find(".J-fly-to-top"),g=f.length?f:d;return g.on("click",function(){return Y(0),!1}),this},ab=function(b){b=b||m;var c="http://a.tbcdn.cn/p/header/webww-min.js";return a.KISSY?j(c,b):j(["http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js",c],b),this};setTimeout(function(){var a=J(),b=a.width(),d=a.height(),e=a.scrollTop();a.on("resize",r(function(){var e=a.width(),f=a.height();(b!==e||d!==f)&&c.trigger("window.resize",e,f),b=e,d=f},80)).on("scroll",r(function(){var b=a.scrollTop();e!==b&&c.trigger("window.scroll",b,e),e=b},80))},0),c.mix({loadCss:i,loadScript:j,pageWidth:L,pageHeight:K,scrollY:N,scrollX:M,viewportHeight:O,viewportWidth:P,fullViewport:Q,fullPage:R,stopBodyScroll:T,resetBodyScroll:U,contains:V,isInDocument:W,isInView:X,scrollTo:Y,limitLength:Z,initWangWang:ab,flash:$,flyToTop:_})}(this,jQuery,tbtx),function(a,b){function c(){var a=document.createElement("support"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}var d=document,e=b.namespace("support");a.extend(e,{transition:c(),placeholder:"placeholder"in d.createElement("input")}),a(function(){!e.placeholder&&a("input[placeholder], textarea[placeholder]").length&&b.loadScript("base/js/plugin/jquery.placeholder.js",function(){a("input, textarea").placeholder()})})}(jQuery,tbtx),function(a,b){var c=b.Class,d=b.Widget,e=b.singleton,f=(window.navigator.userAgent||"").toLowerCase(),g=-1!==f.indexOf("msie 6"),h=new c(d,{attrs:{type:"",msg:"",duration:200,template:"<p></p>",className:"tbtx-msg-item"},render:function(){h.superclass.render.apply(this,arguments);
var a=this.element.width();return this.element.css({left:-a,opacity:0}).animate({left:0,opacity:1},this.get("duration")),this},_onRenderType:function(a){this.element.addClass("tbtx-msg-"+a)},_onRenderMsg:function(a){this.element.html(a)},destroy:function(){var a=this.element.width(),b=this;this.element.animate({left:-a,opacity:0},this.get("duration"),function(){h.superclass.destroy.call(b)})}}),i=new c(d,{attrs:{items:{value:"p",getter:function(a){return this.$(a)}},last:1e4},events:{"click p":"_removeHandler"},add:function(a,b){var c=this.get("items");c.length>10&&this.remove(c.first());var d=new h({msg:a,type:b,parentNode:this.element}).render(),e=this;setTimeout(function(){e.remove(d.element)},this.get("last"))},remove:function(a){var b=d.query(a);b&&b.destroy()},_removeHandler:function(b){this.remove(a(b.target))}}),j=function(a){b.pin({element:a,x:0,y:"100%+24"},{element:b.VIEWPORT,x:0,y:"100%"})},k=e(function(){b.loadCss("base/css/msg.css");var a=new i({id:"tbtx-msg"}).render();return g&&(j(a.element),b.on("window.scroll window.resize",function(){a.get("items").length&&j(a.element)})),a}),l=b.MSG={},m="warning error info debug success".split(" ");b.each(m,function(a){b[a]=l[a]=function(b){k().add(b,a)}})}(jQuery,tbtx),function(a){var b=a.parseUrl(location.href);b.query=a.getQueryParam(),a.data("urlInfo",b);var c=b.scheme+"://"+b.domain;b.port&&(c+=":"+b.port),/^http/i.test(c)||(c="");var d={getuserinfo:"/interface/getuserinfo.htm",getlogininfo:"/interface/getlogininfo.htm",taobao_login_page:"/applogin.htm",login:"/applogin.htm?ref="+encodeURIComponent(location.href)};a.mix({ROOT:c,path:d})}(tbtx),function(a,b){var c,d=b.isPending,e=b.path,f=1e4,g=function(){var a=Math.random().toString().substr(2)+(new Date).getTime().toString().substr(1)+Math.random().toString().substr(2);return b.cookie.set("MIIEE_JTOKEN",a,"","","/"),a},h=function(d,g,h){return c?c.done(d).fail(g):(c=a.Deferred(),a.ajax({type:"POST",url:h?e.getlogininfo:e.getuserinfo,dataType:"json",data:{},timeout:f}).done(function(a){var d=a.result&&a.result.data,e=a.code;601==e?c.reject():b.inArray([100,608,1e3],e)&&(b.data("user",d),b.data("userName",d.trueName?d.trueName:d.userNick),c.resolve(d))}).fail(function(){c.reject()}),c.done(d).fail(g).fail(function(){a(".J-login").attr({href:e.login,target:"_self"})}),c.promise())},i={miiee:{appkey:"2328604005",uid:"1644022571"},brand:{appkey:"2328604005",uid:"2140361617"},tbtx:{appkey:"2328604005",uid:"1644022571"},maijia:{uid:"1771650130"}},j=function(b,c,d,e,f,g){g=g||"",f=f||"miiee",e=e||"",d=d||window.location.href,c=c||a('meta[name="description"]').attr("content");var h="http://v.t.sina.com.cn/share/share.php?",j={appkey:i[f].appkey||"",url:d,title:c,ralateUid:g||i[f].uid,pic:e},k=h+a.param(j);a(b).attr({href:k,target:"_blank"})},k=-1,l={},m=function(c,e,h){h=h||m.successCode||[100],e=e||{},e.jtoken||(e.jtoken=g());var i=l[c];return i&&d(i)?void 0:(i=l[c]=a.Deferred(),a.ajax({url:c,type:"post",dataType:"json",data:e,timeout:f}).done(function(a){var c=a&&a.code;b.inArray(h,c)?i.resolve(a):i.reject(c,a)}).fail(function(){i.reject(k)}),i.promise())};b.mix({miieeJSToken:g,userCheck:h,Request:m,bingo:function(a,c){if(a>c)return!1;c=c||100;var d=b.choice(1,c+1);return a>=d?!0:!1},shareToSinaWB:j,addToFavourite:function(a,c){c=c||document.location.href,a=a||document.title;var d=function(){b.MSG.info("按下 "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+" + D 来收藏本页.")};try{window.external.AddFavorite(c,a)}catch(e){try{window.sidebar.addPanel(a,c,"")}catch(f){if("object"==typeof opera)return d(),!0;d()}}}})}(jQuery,tbtx);