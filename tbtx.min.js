!function(a,b){var c=0;b=a[b]={log:function(b,c,d){return d&&(b=d+": "+b),void 0!==a.console&&console.log&&console[c&&console[c]?c:"log"](b),this},debug:!1,staticUrl:"http://static.tianxia.taobao.com/tbtx/",global:a,_tbtx:a[b],noop:function(){},uniqueCid:function(){return c++},$:a.jQuery||a.Zepto}}(this,"tbtx"),function(a){function b(b){this.name=b||"",this.cid=a.uniqueCid(),this.cache={}}b.prototype={set:function(a,b){this.cache[a]=b},get:function(a){return void 0===a?this.getAll():this.cache[a]},getAll:function(){return a.deepCopy(this.cache)},remove:function(a){delete this.cache[a]},clear:function(){delete this.cache,this.cache={}}};var c=new b("data");a.data=function(a,b){return void 0===b?c.get(a):c.set(a,b)},a.removeData=function(a){return c.remove(a),this},a.Cache=b}(tbtx),function(a,b,c){function d(a,b){return l.hasOwnProperty.call(a,b)}function e(){}function f(a){u(a)||(a=[a]);for(var b=this.prototype||this,c=a.shift();c;)eb(b,c.prototype||c,["prototype"]),c=a.shift();return this}function g(a){return a.Implements=f,a}function h(a){var b=typeof a;return null===a||"object"!==b&&"function"!==b}var i,j,k=Array.prototype,l=Object.prototype,m=l.toString,n=!1,o=!0,p="",q={},r=function(a){return null===a?String(a):q[m.call(a)]||"object"},s=function(a,b,d){if(a){var e,f,g,h=0,i=a.length,j=i===c||"function"==r(a);if(d=d||null,j)for(g=B(a);h<g.length&&(e=g[h],b.call(d,a[e],e,a)!==n);h++);else for(f=a[0];i>h&&b.call(d,f,h,a)!==n;f=a[++h]);}return a},t=function(a){return"string"===r(a)},u=Array.isArray||function(a){return"array"===r(a)},v=function(a,b){return w(a,b)>-1},w=k.indexOf?function(a,b){return a.indexOf(b)}:function(a,b){var c;if(t(a)){for(c=0;c<a.length;c++)if(a.charAt(c)===b)return c}else for(c=0;c<a.length;c++)if(a[c]===b)return c;return-1},x=k.filter?function(a,b,c){return k.filter.call(a,b,c)}:function(a,b,c){var d=[];return s(a,function(e,f){b.call(c||this,e,f,a)&&d.push(e)}),d},y=k.map?function(a,b,c){return k.map.call(a,b,c||this)}:function(a,b,c){for(var d=a.length,e=new Array(d),f=0;d>f;f++){var g="string"==typeof a?a.charAt(f):a[f];(g||f in a)&&(e[f]=b.call(c||this,g,f,a))}return e},z=!{toString:1}.propertyIsEnumerable("toString"),A=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toString","toLocaleString","valueOf"],B=Object.keys?function(a){return Object.keys(a)}:function(a){var b,c,d=[];for(b in a)d.push(b);if(z)for(c=A.length-1;c>=0;c--)b=A[c],a.hasOwnProperty(b)&&result.push(b);return d},C=function(a){if(!a||"object"!==r(a)||a.nodeType||a.window==a)return n;var b,e;try{if((e=a.constructor)&&!d(a,"constructor")&&!d(e.prototype,"isPrototypeOf"))return n}catch(f){return n}for(b in a);return b===c||d(a,b)},D=function(a){if(null===a||!a)return[];if(u(a))return a;var b=typeof a.length,c=typeof a;if("number"!==b||a.alert||"string"===c||"function"===c&&!("item"in a&&"number"===b))return[a];for(var d=[],e=0,f=a.length;f>e;e++)d[e]=a[e];return d},E=function(a){if(!a||"object"!=typeof a)return a;var b,c=a.constructor===Array?[]:{};for(b in a)a.hasOwnProperty(b)&&(c[b]="object"==typeof a[b]?E(a[b]):a[b]);return c},F=function(){var b,c,d,e=D(arguments),f=e.length,g=this;for(b=0;f>b;b++)for(d=(p+e[b]).split("."),c=a[d[0]]===g?1:0;c<d.length;++c)g=g[d[c]]=g[d[c]]||{};return g},G=function(a,b){return 0===a.lastIndexOf(b,0)},H=function(a,b){var c=a.length-b.length;return c>=0&&a.indexOf(b,c)==c},I=function(a,b){var c,d,e;return u(a)&&(c=a,a=0,b=c.length),a>b&&(e=a,a=b,b=e),d=Math.floor(Math.random()*(b-a)+a),c?c[d]:d},J=function(a){if(!u(a))return[];var b,c,d=a.length,e=d;if(0===d)return[];for(;e>1;)e-=1,c=I(0,e),b=a[e],a[e]=a[c],a[c]=b;return a},K=function(a,c){b.isFunction(a)||(c=a,a=null),c=c||{};var d=function(){a&&a.apply(this,arguments),this.constructor===d&&this.init&&this.init.apply(this,arguments)};if(a){var e=db(a.prototype);eb(e,d.prototype),d.prototype=e,d.superclass=a.prototype}return d.fn=d.prototype,d.fn.constructor=d,eb(d,K.Mutators),d.fn.proxy=d.proxy,d.include(c)},L=Date.now||function(){return+new Date},M=function(a,b,c){if(b=b||100,-1===b)return function(){a.apply(c||this,arguments)};var d=L();return function(){var e=L();e-d>b&&(d=e,a.apply(c||this,arguments))}},N=function(a){var b=[].slice,c=b.call(arguments,1);return function(){var d=b.call(arguments),e=c.concat(d);return a.apply(null,e)}},O=function(a,d,e){return b.isNotEmptyString(a)?C(d)||u(d)?a.replace(e||/\\?\{\{\s*([^{}\s]+)\s*\}\}/g,function(a,b){return"\\"===a.charAt(0)?a.slice(1):d[b]===c?"":d[b]}):a:a},P=function(a,d,e,f){d=d||"&",e=e||"=",f===c&&(f=o);var g,i,j,k,l,m=[],n=encodeURIComponent;for(g in a)if(l=a[g],g=n(g),h(l))m.push(g),l!==c&&m.push(e,n(l+p)),m.push(d);else if(b.isArray(l)&&l.length)for(i=0,k=l.length;k>i;++i)j=l[i],h(j)&&(m.push(g,f?n("[]"):p),j!==c&&m.push(e,n(j+p)),m.push(d));return m.pop(),m.join(p)},Q=function(a,d,e){if(!b.isNotEmptyString(a))return{};d=d||"&",e=e||"=";for(var f,g,h,i={},j=decodeURIComponent,k=a.split(d),l=0,m=k.length;m>l;++l){if(f=w(k[l],e),-1==f)g=j(k[l]),h=c;else{g=j(k[l].substring(0,f)),h=k[l].substring(f+1);try{h=j(h)}catch(n){b.log(n+"decodeURIComponent error : "+h,"error")}}i[g]=h}return i},R=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),S=new b.Cache("parseUrl"),T=function(a){var c,d={};a=a||location.href;var e=S.get(a);return e?e:b.isNotEmptyString(a)?(c=R.exec(a),c&&(s(c,function(a,b){a||(c[b]="")}),d={scheme:c[1],credentials:c[2],domain:c[3],port:c[4],path:c[5],query:c[6],fragment:c[7]}),S.set(a,d),d):d},U=function(a){return T(a).fragment},V=function(a,c){b.isUri(a)&&(c=a,a="");var d=T(c),e=d.query;return b.isString(d.query)&&(e=Q(e)),a?e[a]||"":e},W=function(a,c,d){var e={};C(a)?(d=c,e=a):e[a]=c;var f=T(d),g=f.query;return b.isString(g)&&(g=Q(f.query)),f.query=eb(g,e),Y(f)},X=function(a,c){a=b.isArray(a)?a:[a];var d=T(c),e=Q(d.query);return s(a,function(a){e[a]&&delete e[a]}),d.query=e,Y(d)},Y=function(a){var b,c=[a.scheme,"://",a.domain];return b=a.port,b&&c.push(":"+b),c.push(a.path),b=a.query,"object"==typeof b&&(b=P(b)),b&&c.push("?"+b),b=a.fragment,b&&c.push("#"+b),c.join("")},Z={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},$={},_=function(){if(i)return i;var a=p;return s(Z,function(b){a+=b+"|"}),a=a.slice(0,-1),i=new RegExp(a,"g")},ab=function(){if(j)return j;var a=p;return s($,function(b){a+=b+"|"}),a+="&#(\\d{1,5});",j=new RegExp(a,"g")},bb=function(a){return String(a).replace(_(),function(a){return $[a]})},cb=function(a){return String(a).replace(ab(),function(a){return Z[a]})};!function(){for(var a in Z)$[Z[a]]=a}(),s("Boolean Number String Function Array Date RegExp Object".split(" "),function(a,c){q["[object "+a+"]"]=c=a.toLowerCase(),b["is"+a]=function(a){return r(a)===c}}),b.isArray=Array.isArray||b.isArray;var db=Object.__proto__?function(a){return{__proto__:a}}:function(a){return e.prototype=a,new e};K.Mutators={extend:function(a){var b=a.extended;return eb(this,a,["extended"]),b&&b(this),this},include:function(a){var b=a.included;return eb(this.prototype,a,["included"]),b&&b(this),this},proxy:function(a){var b=this;return function(){return a.apply(b,arguments)}},Implements:f};var eb=b.mix=function(a,b,c,d){var e;if(!a||a===b)return a;b||(b=a,a=this),c||(c=[]),d||(d=!0);for(e in b)v(c,e)||!d&&e in a||(a[e]=b[e]);return a};b.mix({mix:eb,classify:g,isNotEmptyString:function(a){return t(a)&&""!==a},isPlainObject:C,isPending:function(a){return a?a.resolve&&a.promise?"pending"===a.state():n:n},isUri:function(a){var c;return b.isNotEmptyString(a)&&(c=R.exec(a),c&&c[1])?o:n},singleton:function(a,b){var c;return function(){return c||(c=a.apply(b,arguments))}},ucfirst:function(a){return a.charAt(0).toUpperCase()+a.substring(1)},lcfirst:function(a){return a.charAt(0).toLowerCase()+a.substring(1)},later:function(a,c,d,e,f){c=c||0;var g,h,i=a,j=D(f);return"string"==typeof a&&(i=e[a]),i||b.error("method undefined"),g=function(){i.apply(e,j)},h=d?setInterval(g,c):setTimeout(g,c),{id:h,interval:d,cancel:function(){this.interval?clearInterval(h):clearTimeout(h)}}},inArray:v,type:r,each:s,indexOf:w,filter:x,map:y,every:k.every?function(a,b,c){return k.every.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;d>e;e++)if(e in a&&!b.call(c,a[e],e,a))return n;return o},some:k.some?function(a,b,c){return k.some.call(a,b,c||this)}:function(a,b,c){for(var d=a&&a.length||0,e=0;d>e;e++)if(e in a&&b.call(c,a[e],e,a))return o;return n},reduce:function(a,b,c){var d,e=c,f=0,g=a.length;if("undefined"==typeof c&&(e=a[0],f=1),"function"==typeof b)for(f;g>f;f++)d=a.hasOwnProperty(f)&&(e=b(e,a[f],f,a));return e},unique:function(a){var b,c=[],d={};for(b=0;b<a.length;b++){var e=a[b],f=typeof e+e;1!==d[f]&&(c.push(e),d[f]=1)}return c},sizeof:function(a){return String(a).replace(/[^\x00-\xff]/g,"aa").length},keys:B,makeArray:D,deepCopy:E,namespace:F,startsWith:G,endsWith:H,choice:I,shuffle:J,Class:K,Now:L,throttle:M,curry:N,substitute:O,unparam:Q,param:P,parseUrl:T,getFragment:U,getQueryParam:V,addQueryParam:W,removeQueryParam:X,escapeHtml:bb,unEscapeHtml:cb})}(this,tbtx,void 0),function(a){function b(){}function c(a,b,c,d){var e;if(a)for(var f=0,g=a.length;g>f;f+=2)e=a[f].apply(a[f+1]||c,b),e===!1&&d.status&&(d.status=!1)}var d=/\s+/;b.prototype.on=function(a,b,c){var e,f,g;if(!b)return this;for(e=this.__events||(this.__events={}),a=a.split(d);f=a.shift();)g=e[f]||(e[f]=[]),g.push(b,c);return this},b.prototype.off=function(a,b,c){var f,g,h,i;if(!(f=this.__events))return this;if(!(a||b||c))return delete this.__events,this;for(a=a?a.split(d):e(f);g=a.shift();)if(h=f[g])if(b||c)for(i=h.length-2;i>=0;i-=2)b&&h[i]!==b||c&&h[i+1]!==c||h.splice(i,2);else delete f[g];return this},b.prototype.trigger=function(a){var b,e,f,g,h,i,j=[],k={status:!0};if(!(b=this.__events))return this;for(a=a.split(d),h=1,i=arguments.length;i>h;h++)j[h-1]=arguments[h];for(;e=a.shift();)(f=b.all)&&(f=f.slice()),(g=b[e])&&(g=g.slice()),c(g,j,this,k),c(f,[e].concat(j),this,k);return k.status},b.mixTo=function(a){a=a.prototype||a;var c=b.prototype;for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])};var e=Object.keys;e||(e=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b}),a.Events=b,b.mixTo(a)}(tbtx),function(a){function b(a,b,e,g){for(var h,i,j=b.split(f);h=j.shift();)i=c(this,h),i.__isAspected||d.call(this,h),this.on(a+":"+h,e,g);return this}function c(b,c){var d=b[c];return d||a.error("Invalid method name: "+c),d}function d(a){var b=this[a];this[a]=function(){var c=Array.prototype.slice.call(arguments),d=["before:"+a].concat(c);if(this.trigger.apply(this,d)!==!1){var e=b.apply(this,arguments),f=["after:"+a,e].concat(c);return this.trigger.apply(this,f),e}},this[a].__isAspected=!0}var e=a.namespace("Aspect");e.before=function(a,c,d){return b.call(this,"before",a,c,d)},e.after=function(a,c,d){return b.call(this,"after",a,c,d)};var f=/\s+/}(tbtx),function(a){function b(a){return"[object String]"===t.call(a)}function c(a){return"[object Function]"===t.call(a)}function d(a){return null!=a&&a==a.window}function e(a){if(!a||"[object Object]"!==t.call(a)||a.nodeType||d(a))return!1;try{if(a.constructor&&!u.call(a,"constructor")&&!u.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}var c;if(s)for(c in a)return u.call(a,c);for(c in a);return void 0===c||u.call(a,c)}function f(a){if(!a||"[object Object]"!==t.call(a)||a.nodeType||d(a)||!a.hasOwnProperty)return!1;for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function g(a,b){var c,d;for(c in b)if(b.hasOwnProperty(c)){if(d=b[c],v(d))d=d.slice();else if(e(d)){var f=a[c];e(f)||(f={}),d=g(f,d)}a[c]=d}return a}function h(a,b,c){for(var d=[],e=b.constructor.prototype;e;)e.hasOwnProperty("attrs")||(e.attrs={}),j(c,e.attrs,e),f(e.attrs)||d.unshift(e.attrs),e=e.constructor.superclass;for(var h=0,i=d.length;i>h;h++)g(a,n(d[h]))}function i(a,b){g(a,n(b,!0))}function j(a,b,c,d){for(var e=0,f=a.length;f>e;e++){var g=a[e];c.hasOwnProperty(g)&&(b[g]=d?b.get(g):c[g])}}function k(a,b){for(var d in b)if(b.hasOwnProperty(d)){var e,f=b[d].value;c(f)&&(e=d.match(x))&&(a[e[1]](l(e[2]),f),delete b[d])}}function l(a){var b=a.match(y),c=b[1]?"change:":"";return c+=b[2].toLowerCase()+b[3]}function m(a,b,c){var d={silent:!0};a.__initializingAttrs=!0;for(var e in c)c.hasOwnProperty(e)&&b[e].setter&&a.set(e,c[e],d);delete a.__initializingAttrs}function n(a,b){var c={};for(var d in a){var f=a[d];c[d]=!b&&e(f)&&o(f,z)?f:{value:f}}return c}function o(a,b){for(var c=0,d=b.length;d>c;c++)if(a.hasOwnProperty(b[c]))return!0;return!1}function p(a){return null==a||(b(a)||v(a))&&0===a.length||f(a)}function q(a,b){if(a===b)return!0;if(p(a)&&p(b))return!0;var c=t.call(a);if(c!=t.call(b))return!1;switch(c){case"[object String]":return a==String(b);case"[object Number]":return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case"[object Date]":case"[object Boolean]":return+a==+b;case"[object RegExp]":return a.source==b.source&&a.global==b.global&&a.multiline==b.multiline&&a.ignoreCase==b.ignoreCase;case"[object Array]":var d=a.toString(),f=b.toString();return-1===d.indexOf("[object")&&-1===f.indexOf("[object")&&d===f}if("object"!=typeof a||"object"!=typeof b)return!1;if(e(a)&&e(b)){if(!q(w(a),w(b)))return!1;for(var g in a)if(a[g]!==b[g])return!1;return!0}return!1}var r=a.namespace("Attrs");r.initAttrs=function(a){var b=this.attrs={},c=this.propsInAttrs||[];h(b,this,c),a&&i(b,a),m(this,b,a),k(this,b),j(c,this,b,!0)},r.get=function(a){var b=this.attrs[a]||{},c=b.value;return b.getter?b.getter.call(this,c,a):c},r.set=function(a,c,d){var f={};b(a)?f[a]=c:(f=a,d=c),d||(d={});var h=d.silent,i=d.override,j=this.attrs,k=this.__changedAttrs||(this.__changedAttrs={});for(a in f)if(f.hasOwnProperty(a)){var l=j[a]||(j[a]={});if(c=f[a],l.readOnly)throw new Error("This attribute is readOnly: "+a);l.setter&&(c=l.setter.call(this,c,a));var m=this.get(a);!i&&e(m)&&e(c)&&(c=g(g({},m),c)),j[a].value=c,this.__initializingAttrs||q(m,c)||(h?k[a]=[c,m]:this.trigger("change:"+a,c,m,a))}return this},r.change=function(){var a=this.__changedAttrs;if(a){for(var b in a)if(a.hasOwnProperty(b)){var c=a[b];this.trigger("change:"+b,c[0],c[1],b)}delete this.__changedAttrs}return this},r._isPlainObject=e;var s,t=Object.prototype.toString,u=Object.prototype.hasOwnProperty;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);s="x"!==b[0]}();var v=Array.isArray||function(a){return"[object Array]"===t.call(a)},w=Object.keys;w||(w=function(a){var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(c);return b});var x=/^(on|before|after)([A-Z].*)$/,y=/^(Change)?([A-Z])(.*)/,z=["value","getter","setter","readOnly"]}(tbtx),function(a){function b(a,b){for(var c in b)if(b.hasOwnProperty(c)){var d="_onChange"+g(c);a[d]&&a.on("change:"+c,a[d])}}function c(){return"widget-"+w++}function d(a){return"[object String]"===x.call(a)}function e(a){return"[object Function]"===x.call(a)}function f(a){return y(document.documentElement,a)}function g(a){return a.charAt(0).toUpperCase()+a.substring(1)}function h(a){return e(a.events)&&(a.events=a.events()),a.events}function i(a,b){var c=a.match(z),d=c[1]+s+b.cid,e=c[2]||void 0;return e&&e.indexOf("{{")>-1&&(e=j(e,b)),{type:d,selector:e}}function j(a,b){return a.replace(A,function(a,c){for(var e,f=c.split("."),g=b;e=f.shift();)g=g===b.attrs?b.get(e):g[e];return d(g)?g:B})}function k(a){return null==a||void 0===a}var l=a.$,m=a.Class,n=a.Events,o=a.Aspect,p=a.Attrs,q=new m;q.Implements([n,o,p]),q.include({init:function(a){this.initAttrs(a),b(this,this.attrs)},destroy:function(){this.off();for(var a in this)this.hasOwnProperty(a)&&delete this[a];this.destroy=function(){}}});var r={},s=".delegate-events-",t="_onRender",u="data-widget-cid",v=new m(q);v.DEFAULT_PARENT_NODE="body",v.include({propsInAttrs:["initElement","element","events"],element:null,events:null,attrs:{id:null,className:null,style:null,template:"<div></div>",model:null,parentNode:v.DEFAULT_PARENT_NODE,renderMethod:"appendTo"},init:function(a){this.cid=c(),v.superclass.init.call(this,a),this.parseElement(),this.initProps(),this.delegateEvents(),this.setup(),this._stamp(),this._isTemplate=!(a&&a.element)},parseElement:function(){var a=this.element;if(a?this.element=l(a):this.get("template")&&this.parseElementFromTemplate(),!this.element||!this.element[0])throw new Error("element is invalid")},parseElementFromTemplate:function(){var a,b=this.get("template");/^#/.test(b)&&(a=document.getElementById(b.substring(1)))&&(b=a.innerHTML,this.set("template",b)),this.element=l(b)},initProps:function(){},delegateEvents:function(a,b,c){if(0===arguments.length?(b=h(this),a=this.element):1===arguments.length?(b=a,a=this.element):2===arguments.length?(c=b,b=a,a=this.element):(a||(a=this.element),this._delegateElements||(this._delegateElements=[]),this._delegateElements.push(l(a))),d(b)&&e(c)){var f={};f[b]=c,b=f}for(var g in b)if(b.hasOwnProperty(g)){var j=i(g,this),k=j.type,m=j.selector;!function(b,c){var d=function(a){e(b)?b.call(c,a):c[b](a)};m?l(a).on(k,m,d):l(a).on(k,d)}(b[g],this)}return this},undelegateEvents:function(a,b){if(b||(b=a,a=null),0===arguments.length){var c=s+this.cid;if(this.element&&this.element.off(c),this._delegateElements)for(var d in this._delegateElements)this._delegateElements.hasOwnProperty(d)&&this._delegateElements[d].off(c)}else{var e=i(b,this);a?l(a).off(e.type,e.selector):this.element&&this.element.off(e.type,e.selector)}return this},$:function(a){return this.element.find(a)},setup:function(){},render:function(){this.rendered||(this._renderAndBindAttrs(),this.rendered=!0);var a=this.get("parentNode"),b=this.get("relatedNode"),c=b||a,d=this.get("renderMethod");if(c&&!f(this.element[0])){var e=this.constructor.outerBoxClass;if(e){var g=this._outerBox=l("<div></div>").addClass(e);g.append(this.element)[d](c)}else this.element[d](c)}return this},_renderAndBindAttrs:function(){var a=this,b=a.attrs;for(var c in b)if(b.hasOwnProperty(c)){var d=t+g(c);if(this[d]){var e=this.get(c);k(e)||this[d](e,void 0,c),function(b){a.on("change:"+c,function(c,d,e){a[b](c,d,e)})}(d)}}},_onRenderId:function(a){this.element.attr("id",a)},_onRenderClassName:function(a){this.element.addClass(a)},_onRenderStyle:function(a){this.element.css(a)},_stamp:function(){var a=this.cid;(this.initElement||this.element).attr(u,a),r[a]=this},destroy:function(){this.undelegateEvents(),delete r[this.cid],this.element&&this._isTemplate&&(this.element.off(),this._outerBox?this._outerBox.remove():this.element.remove()),this.element=null,v.superclass.destroy.call(this)}}),l(window).unload(function(){for(var a in r)r[a].destroy()}),v.query=function(a){var b,c=l(a).eq(0);return c&&(b=c.attr(u)),r[b]};var w=0,x=Object.prototype.toString,y=l.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},z=/^(\S+)\s*(.*)$/,A=/{{([^}]+)}}/g,B="INVALID_SELECTOR";a.Base=q,a.Widget=v,a.createWidget=function(a,b){return b=b||v,new m(b,a)}}(tbtx),function(a){var b=Object.prototype.toString,c=function(a){return"[object String]"===b.call(a)},d=function(a){return c(a)&&""!==a},e=document,f=864e5,g=encodeURIComponent,h=decodeURIComponent,i={get:function(a){var b,c;return d(a)&&(c=String(e.cookie).match(new RegExp("(?:^| )"+a+"(?:(?:=([^;]*))|;|$)")))&&(b=c[1]?h(c[1]):""),b},set:function(a,b,c,h,i,j){var k=String(g(b)),l=h;return"number"==typeof l&&(l=new Date,l.setTime(l.getTime()+h*f)),l instanceof Date&&(k+="; expires="+l.toUTCString()),d(c)&&(k+="; domain="+c),d(i)&&(k+="; path="+i),j&&(k+="; secure"),e.cookie=a+"="+k,this},remove:function(a,b,c,d){return this.set(a,"",b,-1,c,d),this}};a.cookie=i}(tbtx),function(a){function b(a){return function(b){return{}.toString.call(b)=="[object "+a+"]"}}function c(a,b){a=a||"Y-m-d h:i:s";var c,e=d(b),f=a;for(c in e)f=f.replace(c,e[c]);return f}function d(a){a=f(a);var b,c,d={Y:a.getFullYear(),M:a.getMonth()+1,D:a.getDate(),H:a.getHours(),I:a.getMinutes(),S:a.getSeconds()},e={};for(c in d)e[c]=d[c],b=c.toLowerCase(),e[b]="y"==b?d[c].toString().substring(2,4):d[c]<10?"0"+d[c]:d[c];return e}function e(a,b){a=f(a),b=f(b);var c,d=60,e=60*d,g=24*e,h=30*g,i=365*g,j=Math.abs(a.getTime()-b.getTime())/1e3;return j>=i?Math.floor(j/i)+"年前":j>=h?Math.floor(j/h)+"个月前":j>=g?(c=Math.floor(j/g),1==c?"昨天":c+"天前"):d>j&&"刚刚"||e>j&&Math.floor(j/d)+"分钟前"||g>j&&Math.floor(j/e)+"小时前"}function f(a){if(h(a))return a;var b=typeof a;return"number"==b||"string"==b?new Date(a):new Date}function g(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}var h=b("Date");g(a,{normalizeDate:d,ago:e,formatDate:c})}(tbtx),function(a){function b(a){return Object.prototype.toString.call(a)}function c(a){return"[object Object]"===b(a)}function d(a){return"[object Function]"===b(a)}function e(a,b){for(var c=0,d=a.length;d>c&&b.call(a,a[c],c)!==!1;c++);}function f(a){if(!q.test(a))return null;var b,c,d,e,f;if(-1!==a.indexOf("trident/")&&(b=/\btrident\/([0-9.]+)/.exec(a),b&&b.length>=2)){d=b[1];var g=b[1].split(".");g[0]=parseInt(g[0],10)+4,f=g.join(".")}b=q.exec(a),e=b[1];var h=b[1].split(".");return"undefined"==typeof f&&(f=e),h[0]=parseInt(h[0],10)-4,c=h.join("."),"undefined"==typeof d&&(d=c),{browserVersion:f,browserMode:e,engineVersion:d,engineMode:c,compatible:d!==c}}function g(a){if(p)try{var b=p.twGetRunPath.toLowerCase(),c=p.twGetSecurityID(window),d=p.twGetVersion(c);if(b&&-1===b.indexOf(a))return!1;if(d)return{version:d}}catch(e){}}function h(a,e,f){var g=d(e)?e.call(null,f):e;if(!g)return null;var h={name:a,version:l,codename:""},i=b(g);if(g===!0)return h;if("[object String]"===i){if(-1!==f.indexOf(g))return h}else{if(c(g))return g.hasOwnProperty("version")&&(h.version=g.version),h;if(g.exec){var j=g.exec(f);if(j)return h.version=j.length>=2&&j[1]?j[1].replace(/_/g,"."):l,h}}}function i(a,b,c,d){var f=v;e(b,function(b){var c=h(b[0],b[1],a);return c?(f=c,!1):void 0}),c.call(d,f.name,f.version)}function j(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(a[c]=b[c])}var k={},l="-1",m=navigator.userAgent||"",n=navigator.appVersion||"",o=navigator.vendor||"",p=window.external,q=/\b(?:msie |ie |trident\/[0-9].*rv[ :])([0-9.]+)/,r=[["nokia",function(a){return-1!==a.indexOf("nokia ")?/\bnokia ([0-9]+)?/:-1!==a.indexOf("noain")?/\bnoain ([a-z0-9]+)/:/\bnokia([a-z0-9]+)?/}],["samsung",function(a){return-1!==a.indexOf("samsung")?/\bsamsung(?:\-gt)?[ \-]([a-z0-9\-]+)/:/\b(?:gt|sch)[ \-]([a-z0-9\-]+)/}],["wp",function(a){return-1!==a.indexOf("windows phone ")||-1!==a.indexOf("xblwp")||-1!==a.indexOf("zunewp")||-1!==a.indexOf("windows ce")}],["pc","windows"],["ipad","ipad"],["ipod","ipod"],["iphone",/\biphone\b|\biph(\d)/],["mac","macintosh"],["mi",/\bmi[ \-]?([a-z0-9 ]+(?= build))/],["aliyun",/\baliyunos\b(?:[\-](\d+))?/],["meizu",/\b(?:meizu\/|m)([0-9]+)\b/],["nexus",/\bnexus ([0-9s.]+)/],["huawei",function(a){return-1!==a.indexOf("huawei-huawei")?/\bhuawei\-huawei\-([a-z0-9\-]+)/:/\bhuawei[ _\-]?([a-z0-9]+)/}],["lenovo",function(a){return-1!==a.indexOf("lenovo-lenovo")?/\blenovo\-lenovo[ \-]([a-z0-9]+)/:/\blenovo[ \-]?([a-z0-9]+)/}],["zte",function(a){return/\bzte\-[tu]/.test(a)?/\bzte-[tu][ _\-]?([a-su-z0-9\+]+)/:/\bzte[ _\-]?([a-su-z0-9\+]+)/}],["vivo",/\bvivo ([a-z0-9]+)/],["htc",function(a){return/\bhtc[a-z0-9 _\-]+(?= build\b)/.test(a)?/\bhtc[ _\-]?([a-z0-9 ]+(?= build))/:/\bhtc[ _\-]?([a-z0-9 ]+)/}],["oppo",/\boppo[_]([a-z0-9]+)/],["konka",/\bkonka[_\-]([a-z0-9]+)/],["sonyericsson",/\bmt([a-z0-9]+)/],["coolpad",/\bcoolpad[_ ]?([a-z0-9]+)/],["lg",/\blg[\-]([a-z0-9]+)/],["android","android"],["blackberry","blackberry"]],s=[["wp",function(a){return-1!==a.indexOf("windows phone ")?/\bwindows phone (?:os )?([0-9.]+)/:-1!==a.indexOf("xblwp")?/\bxblwp([0-9.]+)/:-1!==a.indexOf("zunewp")?/\bzunewp([0-9.]+)/:"windows phone"}],["windows",/\bwindows nt ([0-9.]+)/],["macosx",/\bmac os x ([0-9._]+)/],["ios",function(a){return/\bcpu(?: iphone)? os /.test(a)?/\bcpu(?: iphone)? os ([0-9._]+)/:-1!==a.indexOf("iph os ")?/\biph os ([0-9_]+)/:/\bios\b/}],["yunos",/\baliyunos ([0-9.]+)/],["android",/\bandroid[\/\- ]?([0-9.x]+)?/],["chromeos",/\bcros i686 ([0-9.]+)/],["linux","linux"],["windowsce",/\bwindows ce(?: ([0-9.]+))?/],["symbian",/\bsymbian(?:os)?\/([0-9.]+)/],["meego",/\bmeego\b/],["blackberry","blackberry"]],t=[["trident",q],["webkit",/\bapplewebkit[\/]?([0-9.+]+)/],["gecko",/\bgecko\/(\d+)/],["presto",/\bpresto\/([0-9.]+)/],["androidwebkit",/\bandroidwebkit\/([0-9.]+)/],["coolpadwebkit",/\bcoolpadwebkit\/([0-9.]+)/]],u=[["sg",/ se ([0-9.x]+)/],["tw",function(){var a=g("theworld");return"undefined"!=typeof a?a:"theworld"}],["360",function(a){var b=g("360se");return"undefined"!=typeof b?b:-1!==a.indexOf("360 aphone browser")?/\b360 aphone browser \(([^\)]+)\)/:/\b360(?:se|ee|chrome|browser)\b/}],["mx",function(){try{if(p&&(p.mxVersion||p.max_version))return{version:p.mxVersion||p.max_version}}catch(a){}return/\bmaxthon(?:[ \/]([0-9.]+))?/}],["qq",/\bm?qqbrowser\/([0-9.]+)/],["green","greenbrowser"],["tt",/\btencenttraveler ([0-9.]+)/],["lb",function(a){if(-1===a.indexOf("lbbrowser"))return!1;var b;try{p&&p.LiebaoGetVersion&&(b=p.LiebaoGetVersion())}catch(c){}return{version:b||l}}],["tao",/\btaobrowser\/([0-9.]+)/],["fs",/\bcoolnovo\/([0-9.]+)/],["sy","saayaa"],["baidu",/\bbidubrowser[ \/]([0-9.x]+)/],["ie",q],["mi",/\bmiuibrowser\/([0-9.]+)/],["opera",function(a){var b=/\bopera.+version\/([0-9.ab]+)/,c=/\bopr\/([0-9.]+)/;return b.test(a)?b:c}],["chrome",/ (?:chrome|crios|crmo)\/([0-9.]+)/],["uc",function(a){return a.indexOf("ucbrowser/")>=0?/\bucbrowser\/([0-9.]+)/:/\buc\/[0-9]/.test(a)?/\buc\/([0-9.]+)/:a.indexOf("ucweb")>=0?/\bucweb[\/]?([0-9.]+)?/:/\b(?:ucbrowser|uc)\b/}],["android",function(a){return-1!==a.indexOf("android")?/\bversion\/([0-9.]+(?: beta)?)/:void 0}],["safari",/\bversion\/([0-9.]+(?: beta)?)(?: mobile(?:\/[a-z0-9]+)?)? safari\//],["webview",/\bcpu(?: iphone)? os (?:[0-9._]+).+\bapplewebkit\b/],["firefox",/\bfirefox\/([0-9.ab]+)/],["nokia",/\bnokiabrowser\/([0-9.]+)/]],v={name:"na",version:l},w=function(a){a=(a||"").toLowerCase();var b={};i(a,r,function(a,c){var d=parseFloat(c);b.device={name:a,version:d,fullVersion:c},b.device[a]=d},b),i(a,s,function(a,c){var d=parseFloat(c);b.os={name:a,version:d,fullVersion:c},b.os[a]=d},b);var c=f(a);return i(a,t,function(a,d){var e=d;c&&(d=c.engineVersion||c.engineMode,e=c.engineMode);var f=parseFloat(d);b.engine={name:a,version:f,fullVersion:d,mode:parseFloat(e),fullMode:e,compatible:c?c.compatible:!1},b.engine[a]=f},b),i(a,u,function(a,d){var e=d;c&&("ie"===a&&(d=c.browserVersion),e=c.browserMode);var f=parseFloat(d);b.browser={name:a,version:f,fullVersion:d,mode:parseFloat(e),fullMode:e,compatible:c?c.compatible:!1},b.browser[a]=f},b),b};k=w(m+" "+n+" "+o),k.parse=w;var x=/(iPod|iPhone|Android|Opera Mini|BlackBerry|webOS|UCWEB|Blazer|PSP|IEMobile|Symbian)/gi,y=function(a){var b=x.exec(a);return b?b[1]:""};k.mobile=y(m),j(a,{detector:k,decideMobile:y,isIE6:k.browser.ie&&6==k.browser.version,isMobile:!!k.mobile})}(tbtx),function(a){function b(a){a=g(a)||{},a.nodeType&&(a={element:a});var b=g(a.element)||l;if(1!==b.nodeType)throw new Error("posObject.element is invalid.");var c={element:b,x:a.x||0,y:a.y||0},d=b===l||"VIEWPORT"===b._id;return c.offset=function(){return m?{left:0,top:0}:d?{left:i(document).scrollLeft(),top:i(document).scrollTop()}:h(i(b)[0])},c.size=function(){var a=d?i(window):i(b);return{width:a.outerWidth(),height:a.outerHeight()}},c}function c(a){a.x=d(a.x,a,"width"),a.y=d(a.y,a,"height")}function d(a,b,c){if(a+="",a=a.replace(/px/gi,""),/\D/.test(a)&&(a=a.replace(/(?:top|left)/gi,"0%").replace(/center/gi,"50%").replace(/(?:bottom|right)/gi,"100%")),-1!==a.indexOf("%")&&(a=a.replace(/(\d+(?:\.\d+)?)%/gi,function(a,d){return b.size()[c]*(d/100)})),/[+\-*\/]/.test(a))try{a=new Function("return "+a)()}catch(d){throw new Error("Invalid position value: "+a)}return f(a)}function e(a){var b=a.offsetParent();b[0]===document.documentElement&&(b=i(document.body)),o&&b.css("zoom",1);var c;return c=b[0]===document.body&&"static"===b.css("position")?{top:0,left:0}:h(b[0]),c.top+=f(b.css("border-top-width")),c.left+=f(b.css("border-left-width")),c}function f(a){return parseFloat(a,10)||0}function g(a){return i(a)[0]}function h(a){var b=a.getBoundingClientRect(),c=document.documentElement;return{left:b.left+(window.pageXOffset||c.scrollLeft)-(c.clientLeft||document.body.clientLeft||0),top:b.top+(window.pageYOffset||c.scrollTop)-(c.clientTop||document.body.clientTop||0)}}var i=a.$,j=a,k=j,l={_id:"VIEWPORT",nodeType:1},m=!1,n=(window.navigator.userAgent||"").toLowerCase(),o=-1!==n.indexOf("msie 6");k.pin=function(a,d){a=b(a),d=b(d);var f=i(a.element);"fixed"!==f.css("position")||o?(f.css("position","absolute"),m=!1):m=!0,c(a),c(d);var g=e(f),h=d.offset(),j=h.top+d.y-a.y-g.top,k=h.left+d.x-a.x-g.left;f.css({left:k,top:j})},k.center=function(a,b){k.pin({element:a,x:"50%",y:"50%"},{element:b,x:"50%",y:"50%"})},k.VIEWPORT=l}(tbtx),function(a){var b=a.parseUrl();b.query=a.getQueryParam(),a.data("urlInfo",b);var c=b.scheme+"://"+b.domain;b.port&&(c+=":"+b.port),/^http/i.test(c)||(c="");var d={getuserinfo:"/interface/getuserinfo.htm",getlogininfo:"/interface/getlogininfo.htm",taobao_login_page:"/applogin.htm",login:"/applogin.htm?ref="+encodeURIComponent(location.href)};a.mix({ROOT:c,path:d})}(tbtx),function(a){function b(a,b,d){var e=B[a];if(e)return e.done(b),e.promise();e=B[a]=l.Deferred(),e.done(b);var f=y.test(a),g=u.createElement(f?"link":"script");if(d){var h=t(d)?d(a):d;h&&(g.charset=h)}return c(g,b,f,a),f?(g.rel="stylesheet",g.href=a):(g.async=!0,g.src=a),x?w.insertBefore(g,x):w.appendChild(g),B[a].promise()}function c(a,b,c,e){var f=c&&(A||!("onload"in a));return f?(setTimeout(function(){d(a,b,e)},1),void 0):(a.onload=a.onerror=a.onreadystatechange=function(){z.test(a.readyState)&&(a.onload=a.onerror=a.onreadystatechange=null,c||w.removeChild(a),a=null,B[e].resolve())},void 0)}function d(a,b,c){var e,f=a.sheet;if(A)f&&(e=!0);else if(f)try{f.cssRules&&(e=!0)}catch(g){"NS_ERROR_DOM_SECURITY_ERR"===g.name&&(e=!0)}setTimeout(function(){e?B[c].resolve():d(a,b)},20)}function e(a){return a.hasAttribute?a.src:a.getAttribute("src",4)}function f(b){return C.test(b)||(b=a.staticUrl+b),b}function g(a,c,d){return a=f(a),b(a,c,d)}function h(c,d,e){if(s(c)){var g;return c.length,c=o(c,function(a){return f(a)}),g=b(c[0],m,e),a.reduce(c,function(a,c){return g=g.then(function(){return b(c,m,e)}),c}),g.then(d)}return b(f(c),d,e)}function i(){for(var a,b,c=u.scripts,d=c.length-1;d>=0;d--)if(a=c[d],b=e(a),b&&/tbtx\.(min\.)?js/.test(b))return b;return null}function j(a){for(a=a.replace(D,"/");a.match(E);)a=a.replace(E,"/");return a}var k=a.global,l=a.$,m=a.noop,n=a.each,o=a.map,p=a.ucfirst,q=(a.startsWith,a.singleton),r=a.throttle,s=a.isArray,t=a.isFunction,u=document,v=u.documentElement,w=u.head||u.getElementsByTagName("head")[0]||v,x=w.getElementsByTagName("base")[0],y=/\.css(?:\?|$)/i,z=/^(?:loaded|complete|undefined)$/,A=1*navigator.userAgent.replace(/.*AppleWebKit\/(\d+)\..*/,"$1")<536,B={},C=/^(http|file)/i,D=/\/\.\//g,E=/\/[^/]+\/\.\.\//,F=i();F&&(a.staticUrl=j(F+"/../../../"));var G=[["window",function(){return l(window)}],["document",function(){return l(u)}],["head",function(){return l(w)}],["body",function(){return l("body")}]];n(G,function(b){a["get"+p(b[0])]=q(b[1])});var H=a.getDocument,I=a.getWindow,J=function(){return H().height()},K=function(){return H().width()},L=function(){return I().scrollLeft()},M=function(){return I().scrollTop()},N=function(){return I().height()},O=function(){return I().width()},P=function(a){return l(a).css({width:O(),height:N()})},Q=function(a){return l(a).css({width:K(),height:J()})},R=q(function(){var a=document.body;return/msie [67]/.test(navigator.userAgent.toLowerCase())&&(a=document.documentElement),l(a)}),S=function(){return R().css("overflow","hidden"),this},T=function(){return R().css("overflow","auto"),this},U=l.contains||function(a,b){return!!(16&a.compareDocumentPosition(b))},V=function(a){return U(v,a)},W=function(a,b){b=b||0;var c=l(a),d=c.innerHeight(),e=I(),f=e.height();("center"==b||"number"!=typeof b)&&(b=(f-d)/2);
var g=e.scrollTop(),h=g+f,i=c.offset().top+b,j=i+d;return h>i&&j>g},X=function(a){var b;if("number"==typeof a)b=a;else{var c=l(a),d=c.offset().top;b=d-(N()-c.innerHeight())/2}return l("body,html").animate({scrollTop:b},800),this},Y=function(a,b,c){var d=l(a);return c=c||"...",b=b||"data-max",d.each(function(){var a=l(this),d=parseInt(a.attr(b),10),e=l.trim(a.text());e.length<=d||(e=e.slice(0,d-c.length)+c,a.text(e))}),this},Z=function(a,b,c){var d=l(a);return c=c||"#FFF",b=b||"#FF9",d.each(function(a,d){var e=l(d);e.css("background-color",b).fadeOut("fast",function(){e.fadeIn("fast",function(){e.css("background-color",c).focus().select()})})}),this},$=function(b){var c=l(b),d=c.data("offset");d&&a.on("window.scroll",function(a){a>d?c.fadeIn():c.fadeOut()});var e=c.find(".J-fly-to-top"),f=e.length?e:c;return f.on("click",function(){return X(0),!1}),this},_=function(a){a=a||m;var b="http://a.tbcdn.cn/p/header/webww-min.js";return k.KISSY?h(b,a):h(["http://a.tbcdn.cn/s/kissy/1.2.0/kissy-min.js",b],a),this};setTimeout(function(){var b=I(),c=b.width(),d=b.height(),e=b.scrollTop();b.on("resize",r(function(){var e=b.width(),f=b.height();(c!==e||d!==f)&&a.trigger("window.resize",e,f),c=e,d=f},80)).on("scroll",r(function(){var c=b.scrollTop();e!==c&&a.trigger("window.scroll",c,e),e=c},80))},0),a.mix({realpath:j,loadCss:g,loadScript:h,pageWidth:K,pageHeight:J,scrollY:M,scrollX:L,viewportHeight:N,viewportWidth:O,fullViewport:P,fullPage:Q,stopBodyScroll:S,resetBodyScroll:T,contains:U,isInDocument:V,isInView:W,scrollTo:X,limitLength:Y,initWangWang:_,flash:Z,flyToTop:$})}(tbtx),function(a){function b(a){var b=a.length-1,c=a.charAt(b);return"#"===c?a.substring(0,b):".js"===a.substring(b-2)||a.indexOf("?")>0||".css"===a.substring(b-3)||"/"===c?a:a+".js"}function c(b){var c=k.alias;return c&&a.isString(c[b])?c[b]:b}function d(b){var c,d=k.paths;return d&&(c=b.match(l))&&a.isString(d[c[1]])&&(b=d[c[1]]+c[2]),b}function e(a){return k.baseUrl+a}function f(f){if(!f)return"";f=c(f),f=d(f),f=b(f);var g=e(f);return a.realpath(g)}function g(a,b){this.uri=a,this.dependencies=b||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function h(){return s++}var i=a.namespace("Loader"),j=a.global,k=i.data={baseUrl:a.staticUrl+"base/js/component/",alias:{handlebars:"miiee/handlebars.js",easing:"plugin/jquery.easing.1.3.js"},paths:{miiee:"../../../miiee/js",plugin:"../plugin",gallery:"../gallery"},deps:{drop:"overlay",popup:"overlay",tip:"drop",templatable:"handlebars",autocomplete:["overlay","templatable"]},exports:{handlebars:"Handlebars"}};i.config=function(b){for(var c in b){var d=b[c],f=k[c];if(f&&a.isObject(f))for(var g in d)f[g]=d[g];else a.isArray(f)?d=f.concat(d):"base"===c&&("/"===d.slice(-1)||(d+="/"),d=e(d)),k[c]=d}};var l=/^([^/:]+)(\/.+)$/;g.prototype={resolve:function(){var b=this,c=b.dependencies,d=a.map(c,function(a){return g.resolve(a)});return d},isToFetch:function(){var b=this;return!a.startsWith(b.uri,t)},parseExports:function(){var b=this,c=b.uri,d=r[c];if(-1!==c.indexOf("base/js/component")&&k.exports[d]){var e=k.exports[d]||"tbtx."+a.ucfirst(d);e=e.split(".");for(var f=j;e.length;)f=f[e.shift()];b.exports=f||null}},load:function(){var b=this;if(!(b.status>=q.LOADING)){b.status=q.LOADING;var c=b.resolve();b._remain=c.length;var d;return a.each(c,function(a){d=g.get(a),d.status<q.LOADED?d._waitings[b.uri]=(d._waitings[b.uri]||0)+1:b._remain--}),0===b._remain?(b.onload(),void 0):(a.each(c,function(a){d=m[a],d.status<q.LOADING&&d.load()}),void 0)}},onload:function(){var a=this;if(a.status<q.FETCHING&&a.isToFetch())return a.fetch(),void 0;a.status=q.LOADED,a.callback&&a.callback();var b,c,d=a._waitings;for(b in d)d.hasOwnProperty(b)&&(c=m[b],c._remain-=d[b],0===c._remain&&c.onload());delete a._waitings,delete a._remain},fetch:function(){function b(){a.loadScript(f,c,k.charset)}function c(){delete n[f],o[f]=!0,d.parseExports(),d.onload();var a,b=p[f];for(delete p[f];a=b.shift();)a.onload()}var d=this,e=d.uri;d.status=q.FETCHING;var f=e;return n[f]?(p[f].push(d),void 0):(n[f]=!0,p[f]=[d],b(),void 0)}};var m=i.cache={},n={},o={},p={},q=g.STATUS={LOADING:1,FETCHING:2,LOADED:3},r={};g.resolve=function(a){var b=f(a);return r[b]=a,b},g.get=function(b,c){var d=r[b]||"";return m[b]||(m[b]=new g(b,c||a.makeArray(k.deps[d])))},g.require=function(b,c,d){var e=g.get(d,a.makeArray(b)),f=a.$.Deferred();return e.callback=function(){var b=e.resolve(),d=a.map(b,function(a){return m[a].exports});c&&c.apply(j,d),f.resolve(),delete e.callback},e.load(),f.promise()};var s=0,t="require_";a.require=function(a,b){return g.require(a,b,t+h())}}(tbtx),function(a){function b(){var a=document.createElement("support"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}var c=a.$,d=document,e=a.namespace("support");c.extend(e,{transition:b(),placeholder:"placeholder"in d.createElement("input")}),c(function(){!e.placeholder&&c("input[placeholder], textarea[placeholder]").length&&a.loadScript("base/js/plugin/jquery.placeholder.js",function(){c("input, textarea").placeholder()})})}(tbtx),function(a){var b=a.$,c=a.Class,d=a.Widget,e=a.singleton,f=(window.navigator.userAgent||"").toLowerCase(),g=-1!==f.indexOf("msie 6"),h=new c(d,{attrs:{type:"",msg:"",duration:200,template:"<p></p>",className:"tbtx-msg-item"},render:function(){h.superclass.render.apply(this,arguments);var a=this.element.width();return this.element.css({left:-a,opacity:0}).animate({left:0,opacity:1},this.get("duration")),this},_onRenderType:function(a){this.element.addClass("tbtx-msg-"+a)},_onRenderMsg:function(a){this.element.html(a)},destroy:function(){var a=this.element.width(),b=this;this.element.animate({left:-a,opacity:0},this.get("duration"),function(){h.superclass.destroy.call(b)})}}),i=new c(d,{attrs:{items:{value:"p",getter:function(a){return this.$(a)}},last:1e4},events:{"click p":"_removeHandler"},add:function(a,b){var c=this.get("items");c.length>10&&this.remove(c.first());var d=new h({msg:a,type:b,parentNode:this.element}).render(),e=this;setTimeout(function(){e.remove(d.element)},this.get("last"))},remove:function(a){var b=d.query(a);b&&b.destroy()},_removeHandler:function(a){this.remove(b(a.target))}}),j=function(b){a.pin({element:b,x:0,y:"100%+24"},{element:a.VIEWPORT,x:0,y:"100%"})},k=e(function(){a.loadCss("base/css/msg.css");var b=new i({id:"tbtx-msg"}).render();return g&&(j(b.element),a.on("window.scroll window.resize",function(){b.get("items").length&&j(b.element)})),b}),l=a.MSG={},m="warning error info debug success".split(" ");a.each(m,function(b){a[b]=l[b]=function(a){k().add(a,b)}});var n=e(function(){return a.loadCss("base/css/msg.css"),b(a.substitute('<div class="tbtx-broadcast">{{ msg }}</div>')).appendTo("body")});a.broadcast=function(b,c){c=c||"bottom";var d=n().html(b);a.pin({element:d,x:"50%",y:"top"==c?-60:"100%+60"},{element:a.VIEWPORT,x:"50%",y:"top"==c?0:"100%"}),d.fadeIn(),a.later(function(){d.fadeOut()},4e3,!1)}}(tbtx),function(a){var b,c=a.$,d=a.isPending,e=a.path,f=1e4,g=function(){var b=Math.random().toString().substr(2)+(new Date).getTime().toString().substr(1)+Math.random().toString().substr(2);return a.cookie.set("MIIEE_JTOKEN",b,"","","/"),b},h=function(d,g,h){return b?b.done(d).fail(g):(b=c.Deferred(),c.ajax({type:"POST",url:h?e.getlogininfo:e.getuserinfo,dataType:"json",data:{},timeout:f}).done(function(c){var d=c.result&&c.result.data,e=c.code;601==e?b.reject():a.inArray([100,608,1e3],e)&&(a.data("user",d),a.data("userName",d.trueName?d.trueName:d.userNick),b.resolve(d))}).fail(function(){b.reject()}),b.done(d).fail(g).fail(function(){c(".J-login").attr({href:e.login,target:"_self"})}),b.promise())},i={miiee:{appkey:"2328604005",uid:"1644022571"},brand:{appkey:"2328604005",uid:"2140361617"},tbtx:{appkey:"2328604005",uid:"1644022571"},maijia:{uid:"1771650130"}},j=function(a,b,d,e,f,g){g=g||"",f=f||"miiee",e=e||"",d=d||window.location.href,b=b||c('meta[name="description"]').attr("content");var h="http://v.t.sina.com.cn/share/share.php?",j={appkey:i[f].appkey||"",url:d,title:b,ralateUid:g||i[f].uid,pic:e},k=h+c.param(j);c(a).attr({href:k,target:"_blank"})},k=-1,l={code:k,msg:"请求失败！请检查网络连接！"},m=-2,n={},o=function(b,e,h){h=h||o.successCode||[100],e=e||{},"object"!=typeof e||e.jtoken||(e.jtoken=g());var i=n[b];return i&&d(i)?(i.notify(m),i.promise()):(i=n[b]=c.Deferred(),c.ajax({url:b,type:"post",dataType:"json",data:e,timeout:f}).done(function(b){var c=b&&b.code;a.inArray(h,c)?i.resolve(b):i.reject(c,b)}).fail(function(){i.reject(k,l)}),i.promise())};a.mix({miieeJSToken:g,userCheck:h,initMiiee:function(){return a.loadScript(["miiee/js/m.js","miiee/js/base.js"])},Request:o,bingo:function(b,c){if(b>c)return!1;c=c||100;var d=a.choice(1,c+1);return b>=d?!0:!1},shareToSinaWB:j,addToFavourite:function(b,c){c=c||document.location.href,b=b||document.title;var d=function(){a.MSG.info("按下 "+(-1!=navigator.userAgent.toLowerCase().indexOf("mac")?"Command/Cmd":"CTRL")+" + D 来收藏本页.")};try{window.external.AddFavorite(c,b)}catch(e){try{window.sidebar.addPanel(b,c,"")}catch(f){if("object"==typeof opera)return d(),!0;d()}}}})}(tbtx);