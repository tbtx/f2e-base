!function(t,n,r,e){function i(t){var n=typeof t;return null===t||"object"!==n&&"function"!==n}function o(t){return t.match(Ln)[0]}function u(t){for(t=t.replace(Pn,"/"),t=t.replace(Bn,"$1/");t.match(Xn);)t=t.replace(Xn,"/");return t}function a(t){var n=t.length-1,r=t.charAt(n);return"#"===r?t.substring(0,n):".js"===t.substring(n-2)||t.indexOf("?")>0||".css"===t.substring(n-3)||"/"===r?t:t+".js"}function s(t){var n=Mn.alias;return n&&B(n[t])?n[t]:t}function c(t){var n,r=Mn.paths;return r&&(n=t.match(Hn))&&B(r[n[1]])&&(t=r[n[1]]+n[2]),t}function f(t){var n=Mn.vars;return n&&t.indexOf("{")>-1&&(t=t.replace(Kn,function(t,r){return B(n[r])?n[r]:t})),t}function l(t){var n=Mn.map,r=t;if(n)for(var e=0,i=n.length;i>e;e++){var o=n[e];if(r=P(o)?o(t)||t:t.replace(o[0],o[1]),r!==t)break}return r}function h(t,n){var r,e=t.charAt(0);if(Vn.test(t))r=t;else if("."===e)r=(n?o(n):Mn.cwd)+t;else if("/"===e){var i=Mn.cwd.match(Qn);r=i?i[0]+t.substring(1):t}else r=Mn.base+t;return 0===r.indexOf("//")&&(r=E.protocol+r),u(r)}function p(t,n){if(!t)return"";t=s(t),t=c(t),t=f(t),t=a(t);var r=h(t,n);return r=l(r)}function g(t){return t.hasAttribute?t.src:t.getAttribute("src",4)}function d(t,r,e){r=r||S;var i=nr.test(t),o=n.createElement(i?"link":"script");if(e){var u=P(e)?e(t):e;u&&(o.charset=u)}v(o,r,i),i?(o.rel="stylesheet",o.href=t):(o.async=!0,o.src=t),Rn=o,tr?A.insertBefore(o,tr):A.appendChild(o),Rn=null}function v(t,n,e){var i="onload"in t;if(e&&(rr||!i))return setTimeout(function(){m(t,n)},1),void 0;var o=function(){t.onload=t.onerror=t.onreadystatechange=null,e||r.config("debug")||A.removeChild(t),t=null,n()};i?t.onload=t.onerror=o:t.onreadystatechange=function(){/loaded|complete/.test(t.readyState)&&o()}}function m(t,n){var r,e=t.sheet;if(rr)e&&(r=!0);else if(e)try{e.cssRules&&(r=!0)}catch(i){"NS_ERROR_DOM_SECURITY_ERR"===i.name&&(r=!0)}setTimeout(function(){r?n():m(t,n)},20)}function y(){if(n.currentScript)return n.currentScript;if(Rn)return Rn;if(Un&&"interactive"===Un.readyState)return Un;for(var t,r=A.getElementsByTagName("script"),e=r.length-1;e>=0;e--)if(t=r[e],"interactive"===t.readyState)return Un=t}function b(t,n){this.uri=t,this.dependencies=n||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}var E=t.location,x=navigator.userAgent,w=n.documentElement,A=n.head||n.getElementsByTagName("head")[0]||w,O=t.console&&console.log,S=function(){},D=function(t){throw H(t)?t:new Error(t)},T={},_={debug:-1!==E.search.indexOf("debug")?!0:!1,fns:T};r=t[r]={version:"2.5",log:O?function(t,n){return r.config("debug")&&(n&&(t=n+": "+t),console.log(t)),r}:S,error:D,global:t,noop:S,Config:_,config:function(t,n){var i,o=r,u=o.Config,a=u.fns,s=o;return B(t)?(i=a[t],n===e?s=i?i.call(o):u[t]:i?s=i.call(o,n):u[t]=n):W(t,function(t,n){i=a[n],i?i.call(o,t):u[n]=t}),s}};var j=Array.prototype,q=String.prototype,C=Function.prototype,I={},N=I.toString,k=I.hasOwnProperty,F=j.slice,R=function(t,n){return k.call(t,n)},U=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,$=/[^, ]+/g,G=/<[^>]+>/gim,M=/\\?\{\{\s*([^{}\s]+)\s*\}\}/gm,W=function(t,n,r){var e=0,i=t.length;if(r&&(n=n.bind(r)),i===+i)for(;i>e&&n(t[e],e,t)!==!1;e++);else for(e in t)if(R(t,e)&&n(t[e],e,t)===!1)break};Object.keys||(Object.keys=function(t){var n,r=[];for(n in t)R(t,n)&&r.push(n);return r}),C.bind||(C.bind=function(n){var r=F.call(arguments,1),e=this,i=function(){},o=function(){return e.apply(this instanceof i?this:n||t,r.concat(F.call(arguments)))};return i.prototype=e.prototype,o.prototype=new i,o}),Date.now||(Date.now=function(){return+new Date}),q.trim||(q.trim=function(){return this.replace(U,"")}),q.startsWith||(q.startsWith=function(t){return 0===this.lastIndexOf(t,0)}),q.endsWith||(q.endsWith=function(t){var n=this.length-t.length;return n>=0&&this.indexOf(t,n)===n}),j.forEach||(j.forEach=function(t,n){for(var r=0,e=this.length;e>r;r++)t.call(n,this[r],r,this)}),j.map||(j.map=function(t,n){for(var r=[],e=0,i=this.length;i>e;e++)r.push(t.call(n,this[e],e,this));return r}),j.filter||(j.filter=function(t,n){for(var r,e=[],i=0,o=this.length;o>i;i++)r=this[i],t.call(n,r,i,this)&&e.push(r);return e}),j.some||(j.some=function(t,n){for(var r=0,e=this.length;e>r;r++)if(t.call(n,this[r],r,this))return!0;return!1}),j.every||(j.every=function(t,n){for(var r=0,e=this.length;e>r;r++)if(!t.call(n,this[r],r,this))return!1;return!0}),j.indexOf||(j.indexOf=function(t,n){var r,e=-1,i=this.length;for(r=1*n||0,r=r>=0?r:Math.max(0,i+r);i>r;r++)if(this[r]===t)return r;return e}),j.lastIndexOf||(j.lastIndexOf=function(t,n){var r=-1,e=this.length,i=e-1;for(n=1*n||e-1,i=Math.min(i,n);i>-1;i--)if(this[i]===t)return i;return r}),j.reduce||(j.reduce=function(t,n){var r=n,i=0,o=this.length;for(n===e&&(r=this[0],i=1);o>i;i++)r=t(r,this[i],i,this);return r}),j.reduceRight||(j.reduceRight=function(t,n){var r=this.length,i=r-1,o=n;for(n===e&&(o=this[r-1],i--);i>-1;i--)o=t(o,this[i],i,this);return o}),"Boolean Number String Function Array Date RegExp Object Error".replace($,function(t,n){I["[object "+t+"]"]=n=t.toLowerCase(),r["is"+t]=function(t){return J(t)===n}});var L=Array.isArray=r.isArray=Array.isArray||r.isArray,P=r.isFunction,X=r.isObject,B=r.isString,H=r.isError,K=(r.isDate,function(t){return B(t)&&""!==t}),V=function(t,n){var r={};return n=n||function(t){return t},function(){var e=arguments,i=n.apply(this,e),o=r[i];return R(r,i)&&null!=o?r[i]:r[i]=t.apply(this,e)}},Q=function(t,n){return n&&(t=t.bind(n)),V(t,function(){return 1})},z=function(t,n,r){return B(t)||L(n)||Z(n)?t.replace(M,function(t,e){return"\\"===t.charAt(0)?t.slice(1):null==n[e]?r?t:"":n[e]}):t},J=function(t){if(null==t)return t+"";var n=typeof t;return"object"===n||"function"===n?I[N.call(t)]||"object":n},Y=function(t){return null!=t&&t==t.window},Z=function(t){if(!X(t)||t.nodeType||Y(t))return!1;var n,r;try{if((r=t.constructor)&&!R(t,"constructor")&&!R(r.prototype,"isPrototypeOf"))return!1}catch(i){return!1}for(n in t);return n===e||R(t,n)},tn=function(t){if(null==t)return[];if(L(t))return t;var n=[],r=0,e=t.length,i=J(e),o=J(t);if("number"!==i||"string"==typeof t.nodeName||Y(t)||"string"===o||"function"===o&&!("item"in t&&"number"===i))return[t];for(;e>r;r++)n[r]=t[r];return n},nn=function(){var t,n,r,i,o,u,a=arguments[0]||{},s=1,c=arguments.length,f=!1;for("boolean"==typeof a&&(f=a,a=arguments[s]||{},s++),"object"==typeof a||P(a)||(a={}),s===c&&(a=this,s--);c>s;s++)if(null!=(o=arguments[s]))for(i in o)t=a[i],r=o[i],a!==r&&(f&&r&&(Z(r)||(n=L(r)))?(n?(n=!1,u=t&&L(t)?t:[]):u=t&&Z(t)?t:{},a[i]=nn(f,u,r)):r!==e&&(a[i]=r));return a},rn=function(t,n){var r,e,i=t===n;if(i||null==t||null==n)return i;if(r=J(t),e=J(n),r!==e)return!1;switch(r){case"array":case"object":return en(t,n);case"string":return t==String(n);case"number":return i;case"date":case"boolean":return+t==+n}return i},en=function(t,n){var r;for(r in n)if(!R(t,r)&&R(n,r))return!1;for(r in t)if(!R(n,r)&&R(t,r))return!1;for(r in n)if(!rn(t[r],n[r]))return!1;return L(t)&&L(n)&&t.length!==n.length?!1:!0},on=function(t){t=t||0;var n=0;return function(){return t+n++}},un=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},an={"&amp;":"&","&gt;":">","&lt;":"<","&#x60;":"`","&#x2F;":"/","&quot;":'"',"&#x27;":"'"},sn={},cn=Q(function(){var t="";return W(an,function(n){t+=n+"|"}),t=t.slice(0,-1),new RegExp(t,"g")}),fn=Q(function(){var t="";return W(sn,function(n){t+=n+"|"}),t+="&#(\\d{1,5});",new RegExp(t,"g")}),ln=function(t){return(t+"").replace(cn(),function(t){return sn[t]})},hn=function(t){return(t+"").replace(fn(),function(t){return an[t]})};W(an,function(t,n){sn[t]=n}),nn(r,{each:W,mix:nn,extend:nn,isWindow:Y,isPlainObject:Z,isEqual:rn,type:J,makeArray:tn,memoize:V,singleton:Q,cidGenerator:on,uniqueCid:on(),isNotEmptyString:K,ucfirst:un,random:function(t,n){var r,e;return L(t)&&(r=t,t=0,n=r.length-1),null==n&&(n=t,t=0),e=t+Math.floor(Math.random()*(n-t+1)),r?r[e]:e},later:function(t,n,e,i,o){n=n||0;var u,a,s=t,c=tn(o);return B(t)&&(s=i[t]),s||r.error("later: method undefined"),u=function(){s.apply(i,c)},a=e?setInterval(u,n):setTimeout(u,n),{id:a,interval:e,cancel:function(){this.interval?clearInterval(a):clearTimeout(a)}}},throttle:function(t,n,r){if(r=r||this,n=n||150,-1===n)return t.bind(r);var e=Date.now();return function(){var i=Date.now();i-e>n&&(e=i,t.apply(r,arguments))}},debounce:function(t,n,e){if(e=e||this,n=n||150,-1===n)return t.bind(e);var i=null,o=function(){o.stop(),i=r.later(t,n,0,e,arguments)};return o.stop=function(){i&&(i.cancel(),i=0)},o},substitute:z,truncate:function(t,n,r){return t+="",r=r||"...",t.length>n?t.slice(0,n-r.length)+r:t},stripTags:function(t){return(t+"").replace(G,"")},escapeHtml:ln,unEscapeHtml:hn});var pn=encodeURIComponent,gn=function(t){return decodeURIComponent(t.replace(/\+/g," "))},dn=function(t,n,r){n=n||"&",r=r||"=";var o=[];return W(t,function(t,u){u=pn(u),i(t)&&(o.push(u),t!==e&&o.push(r,pn(t)),o.push(n))}),o.pop(),o.join("")},vn=function(t,n,r){t=(t+"").trim(),n=n||"&",r=r||"=";var i,o,u,a={},s=t.split(n),c=0,f=s.length;if(!t)return a;for(;f>c;++c){if(i=s[c].indexOf(r),-1==i)o=gn(s[c]),u=e;else{o=gn(s[c].substring(0,i)),u=s[c].substring(i+1);try{u=gn(u)}catch(l){D(l)}}a[o]=u}return a},mn=new RegExp(["^","(?:","([^:/?#]+)",":)?","(?://","(?:([^/?#]*)@)?","([^/?#:@]*)","(?::([0-9]+))?",")?","([^?#]+)?","(?:\\?([^#]*))?","(?:#(.*))?","$"].join("")),yn={scheme:1,credentials:2,domain:3,port:4,path:5,query:6,fragment:7},bn=function(t){t=t||E.href;var n=t.match(mn)||[],r={};return W(yn,function(t,e){r[e]=n[t]||""}),r},En=function(t){this._query=t,this._map=vn(t)},xn=function(t){var n=this,r=bn(t);return W(r,function(t,r){if("query"===r)n.query=new En(t);else{try{t=gn(t)}catch(e){D(e)}n[r]=t}}),n},wn=function(t){t+="";var n,r=t.charAt(0);return"/"===r||"."===r?!0:(n=mn.exec(t),n?!!(n[1]&&n[3]||n[1]&&n[5]):!1)};En.prototype={get:function(t){var n=this._map;return t?n[t]:n},set:function(t,n){var r=this,e=r._map;return B(t)?e[t]=n:(t instanceof En&&(t=t.get()),W(t,function(t,n){e[n]=t})),r},remove:function(t){var n=this;return t?(t=tn(t),W(t,function(t){delete n._map[t]})):n._map={},n},toString:function(){return dn(this._map)}},En.prototype.add=En.prototype.set,xn.prototype={getFragment:function(){return this.fragment},toString:function(){var t=[],n=this,r=n.scheme,e=n.domain,i=n.path,o=n.port,u=n.fragment,a=n.query.toString(),s=n.credentials;return r&&(t.push(r),t.push(":")),e&&(t.push("//"),s&&(t.push(s),t.push("@")),t.push(pn(e)),o&&(t.push(":"),t.push(o))),i&&t.push(i),a&&(t.push("?"),t.push(a)),u&&(t.push("#"),t.push(u)),t.join("")}},"add get remove set".replace($,function(t){r[t+"QueryParam"]=function(){var n,r=tn(arguments),e=r.length;wn(r[0])?n=r.shift():wn(r[e-1])&&(n=r.pop());var i=new xn(n),o=i.query,u=o[t].apply(o,r);return u===o?i.toString():u||""}}),r.mix({Query:En,Uri:xn,urlEncode:pn,urlDecode:gn,param:dn,unparam:vn,isUri:wn,parseUri:bn,getFragment:function(t){return new xn(t).getFragment()}});var An=r.events={};r.on=function(t,n){var e=An[t]||(An[t]=[]);return e.push(n),r},r.off=function(t,n){if(!t&&!n)return An=r.events={},r;var e=An[t];if(e)if(n)for(var i=e.length-1;i>=0;i--)e[i]===n&&e.splice(i,1);else delete An[t];return r};var On=(r.trigger=function(t,n){var e=An[t];if(e){e=e.slice();for(var i=0,o=e.length;o>i;i++)e[i](n)}return r},n.createElement("tbtx")),Sn=On.style,Dn=" ",Tn="Webkit Moz O ms",_n=Tn.split(Dn),jn=function(t){return Cn(t,"pfx")},qn=function(t,n){var r,i;for(i in t)if(r=t[i],Sn[r]!==e)return"pfx"==n?r:!0;return!1},Cn=function(t,n){var r=un(t),e=(t+Dn+_n.join(r+Dn)+r).split(Dn);return qn(e,n)},In="ontouchstart"in w,Nn=!!x.match(/AppleWebKit.*Mobile.*/)||In,kn=!!x.match(/iPad/i),Fn=Nn&&!kn;r.mix({support:{transition:Cn("transition"),transform:Cn("transform"),touch:In,mobile:Nn,pad:kn,phone:Fn,placeholder:"placeholder"in n.createElement("input")},testPropsAll:Cn,prefixed:jn});var Rn,Un,$n,Gn=r.Loader={},Mn=Gn.data={},Wn=on(),Ln=/[^?#]*\//,Pn=/\/\.\//g,Xn=/\/[^/]+\/\.\.\//,Bn=/([^:/])\/+\//g,Hn=/^([^/:]+)(\/.+)$/,Kn=/{([^{]+)}/g,Vn=/^\/\/.|:\//,Qn=/^.*?\/\/.*?\//,zn=o(E.href),Jn=n.scripts,Yn=Jn[Jn.length-1],Zn=o(g(Yn)||zn),tr=A.getElementsByTagName("base")[0],nr=/\.css(?:\?|$)/i,rr=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536,er=Gn.cache={},ir={},or={},ur={},ar=b.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};b.prototype={resolve:function(){var t=this,n=t.uri,r=t.dependencies;return r.map(function(t){return b.resolve(t,n)})},load:function(){var t=this;if(!(t.status>=ar.LOADING)){t.status=ar.LOADING;var n,r,e=t.resolve(),i=t._remain=e.length;for(r=0;i>r;r++)n=b.get(e[r]),n.status<ar.EXECUTED?n._waitings[t.uri]=(n._waitings[t.uri]||0)+1:t._remain--;if(0===t._remain)return t.onload(),void 0;for(r=0;i>r;r++)n=er[e[r]],n.status<ar.FETCHING?n.fetch():n.status===ar.SAVED&&n.load()}},onload:function(){var t=this;t.status=ar.LOADED,t.callback&&t.callback(),t.exec();var n,r,e=t._waitings;for(n in e)e.hasOwnProperty(n)&&(r=er[n],r._remain-=e[n],0===r._remain&&r.onload());delete t._waitings,delete t._remain},exec:function(){var t=this;if(t.status>=ar.EXECUTING)return t.exports;t.status=ar.EXECUTING;for(var n=(t.uri,t.resolve()),r=[],i=0,o=n.length;o>i;i++)r[i]=b.get(n[i]).exports;var u=t.factory,a=P(u)?u.apply(null,r):u;return a===e&&(a=t.exports),delete t.factory,t.exports=a,t.status=ar.EXECUTED,a},fetch:function(){function t(){d(e,n,Mn.charset)}function n(){delete ir[e],or[e]=!0,$n&&(b.save(e,$n),$n=null);var t,n=ur[e];for(delete ur[e];t=n.shift();)t.load()}var r=this,e=r.uri;return r.status=ar.FETCHING,!e||or[e]?(r.load(),void 0):ir[e]?(ur[e].push(r),void 0):(ir[e]=!0,ur[e]=[r],t(),void 0)}},b.save=function(t,n){var r=b.get(t);r.status<ar.SAVED&&(r.id=n.id||t,r.dependencies=n.deps||[],r.factory=n.factory,r.status=ar.SAVED)},b.get=function(t,n){return er[t]||(er[t]=new b(t,n))},b.require=function(n,r,e){var i=b.get(e,tn(n));r&&(i.callback=function(){var n=i.resolve(),e=n.map(function(t){return er[t].exports});r.apply(t,e),delete i.callback}),i.load()},b.resolve=function(t,n){return p(t,n)},b.define=function(t,n,r){var i=arguments.length;1===i?(r=t,t=e):2===i&&(r=n,L(t)?(n=t,t=e):n=e),L(n)||(n=[]);var o={id:t,uri:b.resolve(t),deps:n,factory:r};if(!o.uri){var u=y();u&&(o.uri=u.src)}o.uri?b.save(o.uri,o):$n=o},b.define.amd={},Mn.fetchedList=or,Mn.base=Zn,Mn.dir=Zn,Mn.cwd=zn,Mn.charset="utf-8",Gn.config=function(t){for(var n in t){var r=t[n],e=Mn[n];if(e&&X(e))for(var i in r)e[i]=r[i];else L(e)?r=e.concat(r):"base"===n&&("/"!==r.slice(-1)&&(r+="/"),r=h(r)),Mn[n]=r}},Gn.resolve=p;var sr=t.define=b.define,cr=t.require=function(t,n){return b.require(t,n,Mn.cwd+"_require_"+Wn()),r};r.mix({define:sr,require:cr,realpath:u,loadScript:d,loadCss:d});var fr=r.staticUrl=u(Zn+"../../../"),lr={},hr={},pr={component:{switchable:"1.0.3",validator:"0.9.7"},plugin:{},gallery:{jquery:"1.11.1",handlebars:"1.3.0",json:"2"}},gr="{{ dir }}/{{ name }}/{{ version }}/{{ name }}";W(pr,function(t,n){lr[n]=u(Zn+"../../")+n,W(t,function(t,r){hr[r]=z(gr,{dir:n,name:r,version:t})})}),hr.$=hr.jquery,Gn.config({base:fr,alias:hr,paths:lr}),r.config("debug")||Gn.config({map:[function(t){return-1===t.indexOf("t=")?t.replace(/^(.*\.(?:css|js))(.*)$/i,"$1?t="+Math.floor(Date.now()/36e5)):void 0}]}),"alias map paths".replace($,function(t){T[t]=function(n){if(!n)return Mn[t];var r={};r[t]=n,Gn.config(r)}});var dr,vr=t.jQuery,mr=t.JSON;mr&&sr("json",mr),vr&&(dr=function(){return vr},sr("jquery",dr),sr("$",dr));var yr=864e5,br=r.cookie={get:function(t){var r,e;return K(t)&&(e=String(n.cookie).match(new RegExp("(?:^| )"+t+"(?:(?:=([^;]*))|;|$)")))&&(r=e[1]?gn(e[1]):""),r},set:function(t,r,e,i,o,u){var a=String(pn(r)),s=i;return"number"==typeof s&&(s=new Date,s.setTime(s.getTime()+i*yr)),s instanceof Date&&(a+="; expires="+s.toUTCString()),K(e)&&(a+="; domain="+e),K(o)&&(a+="; path="+o),u&&(a+="; secure"),n.cookie=t+"="+a,this},remove:function(t,n,r,e){return this.set(t,"",n,-1,r,e),this}};sr("request.config",function(){var t="tokenName",n=function(){return String(Math.random()).slice(2)},e=n()+n()+n(),i=function(){return br.set(r.config(t),e,"","","/"),e};r.config(t,"MIIEE_JTOKEN"),r.config({request:{code:{fail:-1,success:100,pending:-2},msg:{def:"请求失败！请重试！",0:"无法连接到服务器！",500:"服务器出错!",timeout:"请求超时！请检查网络连接！",parsererror:"服务器出错或数据解析出错！"}}}),r.generateToken=i}),cr("request.config"),sr("request",["jquery"],function(){})}("undefined"!=typeof window?window:this,document,"tbtx");